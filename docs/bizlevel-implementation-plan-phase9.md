# –≠—Ç–∞–ø 34: –ë–∞—à–Ω—è –ë–∏–∑–õ–µ–≤–µ–ª

–¶–µ–ª—å —ç—Ç–∞–ø–∞: –ø—Ä–µ–≤—Ä–∞—Ç–∏—Ç—å —ç–∫—Ä–∞–Ω ¬´–ë–∞—à–Ω—è¬ª –≤ –≤–µ—Ä—Ç–∏–∫–∞–ª—å–Ω—É—é –∫–∞—Ä—Ç—É –ø—Ä–æ–≥—Ä–µ—Å—Å–∞ ¬´—Å–Ω–∏–∑—É –≤–≤–µ—Ä—Ö¬ª —Å —É—Ä–æ–≤–Ω—è–º–∏‚Äë—É–∑–ª–∞–º–∏ (—Å–∏–Ω–∏–µ –∫–≤–∞–¥—Ä–∞—Ç—ã), –¥–æ—Ä–æ–≥–∞–º–∏ –º–µ–∂–¥—É –Ω–∏–º–∏ –∏ —á–µ–∫–ø–æ–∏–Ω—Ç–∞–º–∏‚Äë–∑–∞–≥–ª—É—à–∫–∞–º–∏. –ò—Å–ø–æ–ª—å–∑—É–µ–º –ø—Ä–∏–Ω—Ü–∏–ø –º–∏–Ω–∏–º–∞–ª—å–Ω—ã—Ö –ø—Ä–∞–≤–æ–∫: –ø–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ –ø—Ä–æ–≤–∞–π–¥–µ—Ä—ã/–º–æ–¥–µ–ª–∏ –∏ `LevelCard`, –±–µ–∑ –º–∏–≥—Ä–∞—Ü–∏–π –ë–î. –ú–æ–Ω–µ—Ç–∏–∑–∞—Ü–∏—è –æ—Å—Ç–∞—ë—Ç—Å—è –ø—Ä–µ–∂–Ω–µ–π (—É—Ä–æ–≤–Ω–∏ 4‚Äì10 ‚Äî Premium).

–û–±—â–∏–µ –ø—Ä–∞–≤–∏–ª–∞ UX/–ª–æ–≥–∏–∫–∏, –∫–æ—Ç–æ—Ä—ã–µ –Ω—É–∂–Ω–æ —Å–æ–±–ª—é—Å—Ç–∏ –≤ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏:
- –£—Ä–æ–≤–Ω–∏ —Ä–∞—Å–ø–æ–ª–æ–∂–µ–Ω—ã –ø–æ –≤–æ–∑—Ä–∞—Å—Ç–∞–Ω–∏—é ¬´—Å–Ω–∏–∑—É –≤–≤–µ—Ä—Ö¬ª.
- –ü–µ—Ä–≤—ã–π –≤—Ö–æ–¥: —Å–Ω–∏–∑—É –≤–∏–¥–µ–Ω ¬´–£—Ä–æ–≤–µ–Ω—å 0 ‚Äî –ü–µ—Ä–≤—ã–π —à–∞–≥¬ª –∫–∞–∫ –∞–∫—Ç—É–∞–ª—å–Ω—ã–π; –≤—ã—à–µ ‚Äî —Ä–∞–∑–¥–µ–ª–∏—Ç–µ–ª—å ¬´–≠—Ç–∞–∂ 1¬ª. –ü–æ—Å–ª–µ –ø—Ä–æ—Ö–æ–∂–¥–µ–Ω–∏—è –æ–Ω–±–æ—Ä–¥–∏–Ω–≥–∞ ¬´–≠—Ç–∞–∂ 1¬ª –æ—Ç–∫—Ä—ã—Ç.
- –≠—Ç–∞–∂ 1 –æ—Ç–∫—Ä—ã—Ç –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é; —ç—Ç–∞–∂–∏ 2+ ‚Äî —Å–æ—Å—Ç–æ—è–Ω–∏–µ ¬´–°–∫–æ—Ä–æ¬ª (–∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω—ã), –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è –∫–∞–∫ —Ç–∏–∑–µ—Ä—ã.
- –£–∑–ª—ã —É—Ä–æ–≤–Ω–µ–π ‚Äî —Å–∏–Ω–∏–µ –∫–≤–∞–¥—Ä–∞—Ç—ã —Å –ª—ë–≥–∫–æ–π —Ç–µ–Ω—å—é –∏ –∏–∫–æ–Ω–∫–∞–º–∏ —Å—Ç–∞—Ç—É—Å–∞: ‚úì (–ø—Ä–æ–π–¥–µ–Ω), ‚òÖ (–ø—Ä–µ–º–∏—É–º), üîí (–∑–∞–∫—Ä—ã—Ç). –ê–∫—Ç—É–∞–ª—å–Ω—ã–π —É—Ä–æ–≤–µ–Ω—å ‚Äî –≤ –≤–∏–¥–µ ¬´—Ä–∞—Å–∫—Ä—ã—Ç–æ–π¬ª `LevelCard` (–∫–∞—Ä—Ç–∏–Ω–∫–∞, –Ω–æ–º–µ—Ä, –Ω–∞–∑–≤–∞–Ω–∏–µ).
- –ß–µ–∫–ø–æ–∏–Ω—Ç—ã‚Äë–∑–∞–≥–ª—É—à–∫–∏ —Å—Ç–æ—è—Ç –ø–æ—Å–ª–µ —É—Ä–æ–≤–Ω–µ–π: 2, 3, 5, 7, 9, 10. –£ –Ω–∏—Ö –æ–¥–Ω–∞ –∫–Ω–æ–ø–∫–∞ ¬´–ó–∞–≤–µ—Ä—à–∏—Ç—å¬ª, –ø–æ –Ω–∞–∂–∞—Ç–∏—é —Ä–∞–∑–±–ª–æ–∫–∏—Ä—É–µ—Ç—Å—è —Å–ª–µ–¥—É—é—â–∏–π –ø–æ—Å–ª–µ —á–µ–∫–ø–æ–∏–Ω—Ç–∞ —É—Ä–æ–≤–µ–Ω—å. –ü–æ–∑–∂–µ —á–µ–∫–ø–æ–∏–Ω—Ç—ã –±—É–¥—É—Ç –∑–∞–º–µ–Ω–µ–Ω—ã –Ω–∞ —á–∞—Ç‚Äë–∫–µ–π—Å/–≤–µ—Ä—Å–∏–∏ —Ü–µ–ª–∏.

### –ó–∞–¥–∞—á–∞ 34.1: –ö–∞—Ä–∫–∞—Å –≤–µ—Ä—Ç–∏–∫–∞–ª—å–Ω–æ–π –∫–∞—Ä—Ç—ã –±–∞—à–Ω–∏ (UI –∏ –ø–æ—Ä—è–¥–æ–∫ —Å–Ω–∏–∑—É –≤–≤–µ—Ä—Ö)
- –§–∞–π–ª—ã: `lib/screens/biz_tower_screen.dart`, `lib/widgets/level_card.dart`, (–æ–ø—Ü.) `lib/theme/color.dart`.
- –ß—Ç–æ —Å–¥–µ–ª–∞—Ç—å:
  1) –ü–µ—Ä–µ–ø–∏—Å–∞—Ç—å –∫–æ–Ω—Ç–µ–Ω—Ç `/tower` –Ω–∞ –≤–µ—Ä—Ç–∏–∫–∞–ª—å–Ω—É—é –∫–∞—Ä—Ç—É: `CustomScrollView` + `SliverAppBar(pinned: true)`. –°–µ–∫—Ü–∏–∏: ¬´–†–µ—Å–µ–ø—à–Ω (–£—Ä–æ–≤–µ–Ω—å 0)¬ª, —Ä–∞–∑–¥–µ–ª–∏—Ç–µ–ª—å ¬´–≠—Ç–∞–∂ 1¬ª, –¥–∞–ª–µ–µ —É–∑–ª—ã —É—Ä–æ–≤–Ω–µ–π/—á–µ–∫–ø–æ–∏–Ω—Ç–æ–≤.
  2) –£–∑–ª—ã —É—Ä–æ–≤–Ω—è: –∫–æ–º–ø–∞–∫—Ç–Ω—ã–π –∫–≤–∞–¥—Ä–∞—Ç 72‚Äì96 px, —Ñ–æ–Ω —Å–∏–Ω–∏–π, –ª—ë–≥–∫–∞—è —Ç–µ–Ω—å; –∏–∫–æ–Ω–∫–∏ —Å—Ç–∞—Ç—É—Å–∞ –ø–æ —Ü–µ–Ω—Ç—Ä—É. –¢–µ–∫—É—â–∏–π —É—Ä–æ–≤–µ–Ω—å –æ—Ç–æ–±—Ä–∞–∂–∞—Ç—å ¬´—Ä–∞—Å–∫—Ä—ã—Ç–æ–π¬ª –∫–∞—Ä—Ç–æ—á–∫–æ–π (–ø–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `LevelCard`).
  3) –î–æ–±–∞–≤–∏—Ç—å ¬´—Ä–∞–∑–¥–µ–ª–∏—Ç–µ–ª–∏ —ç—Ç–∞–∂–µ–π¬ª (—ç—Ç–∞–∂–∏ 1..4). –≠—Ç–∞–∂ 1 ‚Äî –∞–∫—Ç–∏–≤–µ–Ω, —ç—Ç–∞–∂–∏ 2+ ‚Äî ¬´–°–∫–æ—Ä–æ¬ª (–∑–∞—Ç–µ–º–Ω—ë–Ω–Ω—ã–µ –ø–ª–∞—à–∫–∏ —Å –∑–∞–º–∫–æ–º –∏ CTA ¬´–ü—Ä–µ–º–∏—É–º¬ª –ø—Ä–∏ —Ç–∞–ø–µ).
  4) –ü–æ—Ä—è–¥–æ–∫ —ç–ª–µ–º–µ–Ω—Ç–æ–≤ ‚Äî —Å–Ω–∏–∑—É –≤–≤–µ—Ä—Ö (—É—Ä–æ–≤–Ω–∏ –≤–æ–∑—Ä–∞—Å—Ç–∞—é—Ç). –ü—Ä–∏ –æ—Ç–∫—Ä—ã—Ç–∏–∏ —ç–∫—Ä–∞–Ω–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–∫—Ä–æ–ª–ª–∏—Ç—å –∫ —Ç–µ–∫—É—â–µ–º—É —É–∑–ª—É. –ü–æ–∫–∞–∑–∞—Ç—å FAB ¬´–ü—Ä–æ–¥–æ–ª–∂–∏—Ç—å¬ª, –µ—Å–ª–∏ —Ç–µ–∫—É—â–∏–π —É–∑–µ–ª –≤–Ω–µ –≤–∏–¥–∏–º–æ—Å—Ç–∏ (—Å–∫—Ä–æ–ª–ª–∏—Ç –∫ –Ω–µ–º—É).
- –ö—Ä–∏—Ç–µ—Ä–∏–∏ –ø—Ä–∏—ë–º–∫–∏: –ø—Ä–∏ –ø–µ—Ä–≤–æ–º –≤—Ö–æ–¥–µ —Å–Ω–∏–∑—É –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è ¬´–£—Ä–æ–≤–µ–Ω—å 0¬ª –∫–∞–∫ —Ç–µ–∫—É—â–∏–π; –ø–æ—Å–ª–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –æ–Ω–±–æ—Ä–¥–∏–Ω–≥–∞ (completeLevel(0)) –ø—Ä–∏ –ø–æ–≤—Ç–æ—Ä–Ω–æ–º –≤—Ö–æ–¥–µ ¬´–≠—Ç–∞–∂ 1¬ª –æ—Ç–∫—Ä—ã—Ç –∏ —Ç–µ–∫—É—â–∏–π —É—Ä–æ–≤–µ–Ω—å ‚Äî 1.

### –ó–∞–¥–∞—á–∞ 34.2: –ü—Ä–æ–≤–∞–π–¥–µ—Ä —É–∑–ª–æ–≤ –±–∞—à–Ω–∏ –∏ —Å–µ–ª–µ–∫—Ç–æ—Ä—ã —Å–æ—Å—Ç–æ—è–Ω–∏–π (–±–µ–∑ –º–∏–≥—Ä–∞—Ü–∏–π)
- –§–∞–π–ª—ã: `lib/providers/levels_provider.dart` (—Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ —Å–µ–ª–µ–∫—Ç–æ—Ä–æ–≤), (–æ–ø—Ü.) `lib/providers/checkpoints_provider.dart` (–Ω–æ–≤—ã–π), `lib/repositories/levels_repository.dart` (–±–µ–∑ —Å–µ—Ç–µ–≤—ã—Ö –∏–∑–º–µ–Ω–µ–Ω–∏–π).
- –ß—Ç–æ —Å–¥–µ–ª–∞—Ç—å:
  1) –°–æ–∑–¥–∞—Ç—å —Å–µ–ª–µ–∫—Ç–æ—Ä `towerNodesProvider`, –∫–æ—Ç–æ—Ä—ã–π —Ñ–æ—Ä–º–∏—Ä—É–µ—Ç –ª–∏–Ω–µ–π–∫—É —É–∑–ª–æ–≤ –¥–ª—è ¬´–≠—Ç–∞–∂–∞ 1¬ª: level(0) ‚Üí divider(Floor 1) ‚Üí level(1) ‚Üí checkpoint(–ø–æ—Å–ª–µ 2) ‚Üí level(3) ‚Üí checkpoint(–ø–æ—Å–ª–µ 3) ‚Üí ‚Ä¶ –ø–æ –ø—Ä–∞–≤–∏–ª–∞–º —ç—Ç–∞–ø–∞. –£–∑–µ–ª –Ω–µ—Å—ë—Ç —Ç–∏–ø: `level | checkpoint | divider`, id, —Å–≤—è–∑–∏ (prev/next), —Å—Ç–∞—Ç—É—Å—ã.
  2) –í—ã—á–∏—Å–ª—è—Ç—å `isCompleted`, `isCurrent`, `requiresPremium`, `isLockedByPrev` (—É—Ä–æ–≤–µ–Ω—å –∑–∞–∫—Ä—ã—Ç, –ø–æ–∫–∞ –Ω–µ –ø—Ä–æ–π–¥–µ–Ω –ø—Ä–µ–¥—ã–¥—É—â–∏–π —É–∑–µ–ª/—á–µ–∫–ø–æ–∏–Ω—Ç).
  3) –≠—Ç–∞–∂–∏ 2‚Äì4 –ø–æ–∫–∞ –Ω–µ –≤–∫–ª—é—á–∞—Ç—å –≤ –ª–∏–Ω–µ–π–∫—É —É–∑–ª–æ–≤ (—Ç–æ–ª—å–∫–æ –≤–∏–∑—É–∞–ª—å–Ω—ã–µ —Ä–∞–∑–¥–µ–ª–∏—Ç–µ–ª–∏‚Äë—Ç–∏–∑–µ—Ä—ã).
- –ö—Ä–∏—Ç–µ—Ä–∏–∏ –ø—Ä–∏—ë–º–∫–∏: –ø—Ä–æ–≤–∞–π–¥–µ—Ä –æ—Ç–¥–∞—ë—Ç –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å —É–∑–ª–æ–≤ –¥–ª—è ¬´–≠—Ç–∞–∂–∞ 1¬ª –≤ –ø—Ä–∞–≤–∏–ª—å–Ω–æ–º –ø–æ—Ä—è–¥–∫–µ; —Å—Ç–∞—Ç—É—Å—ã —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—Ç —Ç–µ–∫—É—â–µ–º—É –ø—Ä–æ–≥—Ä–µ—Å—Å—É/–ø–æ–¥–ø–∏—Å–∫–µ.

### –ó–∞–¥–∞—á–∞ 34.3: –ß–µ–∫–ø–æ–∏–Ω—Ç—ã‚Äë–∑–∞–≥–ª—É—à–∫–∏ –∏ –ª–æ–∫–∞–ª—å–Ω–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ
- –§–∞–π–ª—ã: `lib/widgets/checkpoint_tile.dart` (–Ω–æ–≤—ã–π), `lib/providers/checkpoints_provider.dart` (–Ω–æ–≤—ã–π, –Ω–∞ Hive), (–æ–ø—Ü.) `lib/services/*` ‚Äî –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π.
- –ß—Ç–æ —Å–¥–µ–ª–∞—Ç—å:
  1) –í—Å—Ç–∞–≤–∏—Ç—å `CheckpointTile` –ø–æ—Å–ª–µ —É—Ä–æ–≤–Ω–µ–π: 2, 3, 5, 7, 9, 10. –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ: –∫–æ–º–ø–∞–∫—Ç–Ω–∞—è –∫–∞—Ä—Ç–æ—á–∫–∞ —Å –∏–∫–æ–Ω–∫–æ–π/–ø–æ–¥–ø–∏—Å—å—é –∏ –∫–Ω–æ–ø–∫–æ–π ¬´–ó–∞–≤–µ—Ä—à–∏—Ç—å¬ª.
  2) –°–æ—Å—Ç–æ—è–Ω–∏–µ —á–µ–∫–ø–æ–∏–Ω—Ç–æ–≤ —Ö—Ä–∞–Ω–∏—Ç—å –ª–æ–∫–∞–ª—å–Ω–æ (Hive box `tower_checkpoints`): –∫–ª—é—á `checkpoint_after_<levelNumber> = true/false`. –ù–∏–∫–∞–∫–∏—Ö –∏–∑–º–µ–Ω–µ–Ω–∏–π –≤ –ë–î Supabase (MVP).
  3) –ü—Ä–∏ –Ω–∞–∂–∞—Ç–∏–∏ ¬´–ó–∞–≤–µ—Ä—à–∏—Ç—å¬ª ‚Äî –∑–∞–ø–∏—Å–∞—Ç—å —Ñ–ª–∞–≥, –∏–Ω–≤–∞–ª–∏–¥–∞—Ü–∏—Ä–æ–≤–∞—Ç—å `towerNodesProvider` –∏ —Ä–∞–∑–±–ª–æ–∫–∏—Ä–æ–≤–∞—Ç—å —Å–ª–µ–¥—É—é—â–∏–π —É—Ä–æ–≤–µ–Ω—å. –ü–æ–∫–∞–∑–∞—Ç—å SnackBar ¬´–ß–µ–∫–ø–æ–∏–Ω—Ç –ø—Ä–æ–π–¥–µ–Ω¬ª.
- –ö—Ä–∏—Ç–µ—Ä–∏–∏ –ø—Ä–∏—ë–º–∫–∏: –ø–æ—Å–ª–µ ¬´–ó–∞–≤–µ—Ä—à–∏—Ç—å¬ª —Å–æ—Å–µ–¥–Ω–∏–π —Å–ª–µ–¥—É—é—â–∏–π —É—Ä–æ–≤–µ–Ω—å —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è –∫–ª–∏–∫–∞–±–µ–ª—å–Ω—ã–º; —Å–æ—Å—Ç–æ—è–Ω–∏–µ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –º–µ–∂–¥—É —Å–µ—Å—Å–∏—è–º–∏.

### –ó–∞–¥–∞—á–∞ 34.4: –ù–∞–≤–∏–≥–∞—Ü–∏—è –∏ –≥–µ–π—Ç–∏–Ω–≥
- –§–∞–π–ª—ã: `lib/screens/biz_tower_screen.dart`, `lib/routing/app_router.dart` (–±–µ–∑ —Å–º–µ–Ω—ã –º–∞—Ä—à—Ä—É—Ç–æ–≤).
- –ß—Ç–æ —Å–¥–µ–ª–∞—Ç—å:
  1) –¢–∞–ø –ø–æ —É–∑–ª—É —É—Ä–æ–≤–Ω—è: –µ—Å–ª–∏ `requiresPremium` –∏ –ø–æ–¥–ø–∏—Å–∫–∏ –Ω–µ—Ç ‚Äî –ø–µ—Ä–µ—Ö–æ–¥ –Ω–∞ `/premium`; –µ—Å–ª–∏ `isLockedByPrev` ‚Äî SnackBar ¬´–ó–∞–≤–µ—Ä—à–∏—Ç–µ –ø—Ä–µ–¥—ã–¥—É—â–∏–π —ç—Ç–∞–∂¬ª; –∏–Ω–∞—á–µ `context.go('/levels/<id>')`.
  2) –¢–∞–ø –ø–æ —Ç–∏–∑–µ—Ä–∞–º —ç—Ç–∞–∂–µ–π 2‚Äì4 ‚Äî SnackBar ¬´–°–∫–æ—Ä–æ¬ª.
  3) FAB ¬´–ü—Ä–æ–¥–æ–ª–∂–∏—Ç—å¬ª –∏—Å–ø–æ–ª—å–∑—É–µ—Ç `nextLevelToContinueProvider` –¥–ª—è –≤—ã—á–∏—Å–ª–µ–Ω–∏—è —Ü–µ–ª–µ–≤–æ–≥–æ —É–∑–ª–∞ –∏ —Å–∫—Ä–æ–ª–ª–∏—Ç –∫ –Ω–µ–º—É.
- –ö—Ä–∏—Ç–µ—Ä–∏–∏ –ø—Ä–∏—ë–º–∫–∏: –Ω–∞–≤–∏–≥–∞—Ü–∏—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–∞, —Å–æ–æ–±—â–µ–Ω–∏—è –æ–± –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è—Ö –ø–æ–∫–∞–∑–∞–Ω—ã –≤ –≤–µ—Ä–Ω—ã—Ö —Å–ª—É—á–∞—è—Ö.

### –ó–∞–¥–∞—á–∞ 34.5: –í–∏–∑—É–∞–ª—å–Ω—ã–µ ¬´–¥–æ—Ä–æ–≥–∏¬ª –º–µ–∂–¥—É —É–∑–ª–∞–º–∏ (–ø–µ—Ä–≤–∞—è –∏—Ç–µ—Ä–∞—Ü–∏—è)
- –§–∞–π–ª—ã: `lib/widgets/tower_path_painter.dart` (–Ω–æ–≤—ã–π), `lib/screens/biz_tower_screen.dart` (–≤—Å—Ç–∞–≤–∫–∞ —Å–ª–æ—è —Å `CustomPaint`).
- –ß—Ç–æ —Å–¥–µ–ª–∞—Ç—å:
  1) –°–æ–µ–¥–∏–Ω–∏—Ç—å —É–∑–ª—ã –ø–ª–∞–≤–Ω—ã–º–∏ –∫—Ä–∏–≤—ã–º–∏ (S‚Äë–æ–±—Ä–∞–∑–Ω—ã–µ —Å–µ–≥–º–µ–Ω—Ç—ã) –≤ –ø—Ä–µ–¥–µ–ª–∞—Ö —Å–µ–∫—Ü–∏–∏ ¬´–≠—Ç–∞–∂ 1¬ª. –¢–æ–ª—â–∏–Ω–∞ 2 px, —Ü–≤–µ—Ç ‚Äî –æ—Å–Ω–æ–≤–Ω–æ–π –±—Ä–µ–Ω–¥–∞, –ø—Ä–æ–∑—Ä–∞—á–Ω–æ—Å—Ç—å 0.85.
  2) –°–æ—Å—Ç–æ—è–Ω–∏—è: –ø—Ä–æ–π–¥–µ–Ω–Ω—ã–π ‚Äî –∑–µ–ª—ë–Ω—ã–π, –∞–∫—Ç–∏–≤–Ω—ã–π ‚Äî –æ—Å–Ω–æ–≤–Ω–æ–π —Ü–≤–µ—Ç, –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω–Ω—ã–π ‚Äî —Å–µ—Ä—ã–π —Å –ø–æ–Ω–∏–∂–µ–Ω–Ω–æ–π –Ω–µ–ø—Ä–æ–∑—Ä–∞—á–Ω–æ—Å—Ç—å—é.
  3) –ê–Ω–∏–º–∞—Ü–∏—é ¬´—Ç–µ—á–µ–Ω–∏—è¬ª –Ω–µ –¥–µ–ª–∞—Ç—å –≤ —ç—Ç–æ–π –∏—Ç–µ—Ä–∞—Ü–∏–∏ (–≤–æ–∑–º–æ–∂–Ω–∞ –≤ –ø–æ—Å–ª–µ–¥—É—é—â–µ–π –ø–æ–¥–∑–∞–¥–∞—á–µ 34.x+).
- –ö—Ä–∏—Ç–µ—Ä–∏–∏ –ø—Ä–∏—ë–º–∫–∏: –ª–∏–Ω–∏–∏ –∞–∫–∫—É—Ä–∞—Ç–Ω–æ —Å–æ–µ–¥–∏–Ω—è—é—Ç —Ü–µ–Ω—Ç—Ä—ã/–∫—Ä–∞—è —É–∑–ª–æ–≤, –±–µ–∑ –ø–µ—Ä–µ–∫—Ä—ã—Ç–∏—è —Ç–µ–∫—Å—Ç–∞/–∫–∞—Ä—Ç–æ—á–µ–∫; –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å —Å—Ç–∞–±–∏–ª—å–Ω–∞—è.

### –ó–∞–¥–∞—á–∞ 34.6: –ü–µ—Ä–≤—ã–π –≤—Ö–æ–¥ –∏ —Ä–∞—Å–∫—Ä—ã—Ç–∏–µ ¬´–≠—Ç–∞–∂ 1¬ª
- –§–∞–π–ª—ã: `lib/screens/biz_tower_screen.dart`, `lib/providers/levels_provider.dart`.
- –ß—Ç–æ —Å–¥–µ–ª–∞—Ç—å:
  1) –ï—Å–ª–∏ `current_level == 0`, –ø–æ–¥—Å–≤–µ—Ç–∏—Ç—å ¬´–£—Ä–æ–≤–µ–Ω—å 0¬ª –∫–∞–∫ —Ç–µ–∫—É—â–∏–π –∏ –æ—Ç—Ä–µ–Ω–¥–µ—Ä–∏—Ç—å –Ω–∞–¥ –Ω–∏–º —Ä–∞–∑–¥–µ–ª–∏—Ç–µ–ª—å ¬´–≠—Ç–∞–∂ 1¬ª (–∑–∞–∫—Ä—ã—Ç –≤–∏–∑—É–∞–ª—å–Ω–æ). –ö–Ω–æ–ø–∫–∞ –Ω–∞ ¬´–£—Ä–æ–≤–µ–Ω—å 0¬ª –≤–µ–¥—ë—Ç –≤ `/levels/0`.
  2) –ü–æ—Å–ª–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è —É—Ä–æ–≤–Ω—è 0 (—á–µ—Ä–µ–∑ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π `completeLevel(0)`), –ø—Ä–∏ –≤–æ–∑–≤—Ä–∞—Ç–µ –Ω–∞ –±–∞—à–Ω—é ¬´–≠—Ç–∞–∂ 1¬ª —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è –æ—Ç–∫—Ä—ã—Ç—ã–º; —Ç–µ–∫—É—â–∏–π —É–∑–µ–ª ‚Äî —É—Ä–æ–≤–µ–Ω—å 1.
- –ö—Ä–∏—Ç–µ—Ä–∏–∏ –ø—Ä–∏—ë–º–∫–∏: —Å—Ü–µ–Ω–∞—Ä–∏–π –ø–µ—Ä–≤–æ–≥–æ –≤—Ö–æ–¥–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç –±–µ–∑ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã—Ö –º–∞–Ω–∏–ø—É–ª—è—Ü–∏–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è.

### –ó–∞–¥–∞—á–∞ 34.7: –ù–∞–±–ª—é–¥–∞–µ–º–æ—Å—Ç—å –∏ —É—Å—Ç–æ–π—á–∏–≤–æ—Å—Ç—å
- –§–∞–π–ª—ã: `lib/screens/biz_tower_screen.dart` (+–∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞—Ü–∏—è), `scripts/sentry_check.sh` (–±–µ–∑ –ø—Ä–∞–≤–æ–∫).
- –ß—Ç–æ —Å–¥–µ–ª–∞—Ç—å:
  1) –î–æ–±–∞–≤–∏—Ç—å breadcrumbs: `tower_opened`, `tower_level_tap_open`, `tower_level_tap_locked`, `tower_checkpoint_completed`.
  2) –í—Å–µ –Ω–∞–≤–∏–≥–∞—Ü–∏–∏/–∑–∞–ø–∏—Å–∏ –≤ Hive –æ–±–µ—Ä–Ω—É—Ç—å –≤ try/catch —Å `Sentry.captureException` –∏ –¥—Ä—É–∂–µ–ª—é–±–Ω—ã–º SnackBar.
- –ö—Ä–∏—Ç–µ—Ä–∏–∏ –ø—Ä–∏—ë–º–∫–∏: –≤ Sentry –Ω–µ—Ç –Ω–æ–≤—ã—Ö –∫—Ä–∏—Ç–∏—á–Ω—ã—Ö –æ—à–∏–±–æ–∫ UI; —Å–æ–±—ã—Ç–∏—è –ø–æ–ø–∞–¥–∞—é—Ç –≤ breadcrumbs.

### –ó–∞–¥–∞—á–∞ 34.8: –¢–µ—Å—Ç—ã
- –§–∞–π–ª—ã: `test/screens/tower_map_screen_test.dart` (–Ω–æ–≤—ã–π), (–æ–ø—Ü.) `test/providers/checkpoints_provider_test.dart`.
- –ß—Ç–æ —Å–¥–µ–ª–∞—Ç—å:
  1) –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ø–æ—Ä—è–¥–æ–∫ —É–∑–ª–æ–≤ —Å–Ω–∏–∑—É –≤–≤–µ—Ä—Ö –∏ –Ω–∞–ª–∏—á–∏–µ —Ä–∞–∑–¥–µ–ª–∏—Ç–µ–ª–µ–π —ç—Ç–∞–∂–µ–π.
  2) –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ –ø—Ä–∏ `current_level=0` —Å–Ω–∏–∑—É –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è ¬´–£—Ä–æ–≤–µ–Ω—å 0¬ª –∫–∞–∫ —Ç–µ–∫—É—â–∏–π.
  3) –ß–µ–∫–ø–æ–∏–Ω—Ç –ø–æ—Å–ª–µ 2‚Äë–≥–æ —É—Ä–æ–≤–Ω—è: –¥–æ –Ω–∞–∂–∞—Ç–∏—è —É—Ä–æ–≤–µ–Ω—å 3 –∑–∞–∫—Ä—ã—Ç, –ø–æ—Å–ª–µ ¬´–ó–∞–≤–µ—Ä—à–∏—Ç—å¬ª ‚Äî –æ—Ç–∫—Ä—ã—Ç.
  4) –¢–∞–ø –ø–æ –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω–Ω–æ–º—É —É—Ä–æ–≤–Ω—é ‚Äî SnackBar; –ø–æ –ø—Ä–µ–º–∏—É–º‚Äë—É—Ä–æ–≤–Ω—é –±–µ–∑ –ø–æ–¥–ø–∏—Å–∫–∏ ‚Äî –ø–µ—Ä–µ—Ö–æ–¥ –Ω–∞ `/premium`.
  5) FAB ¬´–ü—Ä–æ–¥–æ–ª–∂–∏—Ç—å¬ª —Å–∫—Ä–æ–ª–ª–∏—Ç –∫ —Ç–µ–∫—É—â–µ–º—É —É–∑–ª—É (smoke/assert –≤—ã–∑–æ–≤–∞ `animateTo`).
- –ö—Ä–∏—Ç–µ—Ä–∏–∏ –ø—Ä–∏—ë–º–∫–∏: —Ç–µ—Å—Ç—ã –ø—Ä–æ—Ö–æ–¥—è—Ç –ª–æ–∫–∞–ª—å–Ω–æ –∏ –≤ CI; —Ä–µ–≥—Ä–µ—Å—Å–æ–≤ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö —Ç–µ—Å—Ç–æ–≤ –Ω–µ—Ç.

### –ó–∞–¥–∞—á–∞ 34.9: Supabase/Sentry ‚Äî –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–æ–Ω–Ω—ã–µ
- –ß—Ç–æ —Å–¥–µ–ª–∞—Ç—å:
  1) –ú–∏–≥—Ä–∞—Ü–∏–∏ –ë–î –Ω–µ —Ç—Ä–µ–±—É—é—Ç—Å—è. –í—Å–µ –±—É–¥—É—â–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è —Å—Ö–µ–º—ã (—ç—Ç–∞–∂–∏/—á–µ–∫–ø–æ–∏–Ω—Ç—ã –≤ –ë–î) –ø–ª–∞–Ω–∏—Ä–æ–≤–∞—Ç—å –∏ –ø—Ä–∏–º–µ–Ω—è—Ç—å —Ç–æ–ª—å–∫–æ —á–µ—Ä–µ–∑ supabase‚Äëmcp (–±–µ–∑ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –≤ —ç—Ç–æ–º —ç—Ç–∞–ø–µ).
  2) –î–ª—è –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∏ –ø–æ—Å–ª–µ —Å–±–æ—Ä–∫–∏ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –ª–æ–≥–∏ Sentry –∑–∞ —Å–µ—Å—Å–∏—é —á–µ—Ä–µ–∑ sentry‚Äëmcp (–¥–æ–±–∞–≤–∏—Ç—å –≤ —á–µ–∫‚Äë–ª–∏—Å—Ç —Ä–µ–≤—å—é).
- –ö—Ä–∏—Ç–µ—Ä–∏–∏ –ø—Ä–∏—ë–º–∫–∏: —Å—Ö–µ–º–∞ –ë–î –Ω–µ –º–µ–Ω—è–ª–∞—Å—å; –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å/–º–æ–Ω–µ—Ç–∏–∑–∞—Ü–∏—è —É—Ä–æ–≤–Ω–µ–π —Å–æ—Ö—Ä–∞–Ω–∏–ª–∞—Å—å.

### –ó–∞–¥–∞—á–∞ 34.10: –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –∏ –∞–¥–∞–ø—Ç–∏–≤–Ω–æ—Å—Ç—å
- –§–∞–π–ª—ã: `lib/screens/biz_tower_screen.dart`.
- –ß—Ç–æ —Å–¥–µ–ª–∞—Ç—å:
  1) –†–∞–∑–º–µ—Ç–∫–∞ –Ω–∞ –±–∞–∑–µ `SliverList`/`ListView` —Å –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ–º –ø–µ—Ä–µ—Ä–∏—Å–æ–≤–æ–∫ (`RepaintBoundary` –Ω–∞ —Å–µ–∫—Ü–∏–∏). –ë–µ–∑ —Å–ª–æ–∂–Ω–æ–π –∞–Ω–∏–º–∞—Ü–∏–∏ –≤ –ø–µ—Ä–≤–æ–π –≤–µ—Ä—Å–∏–∏.
  2) –ê–¥–∞–ø—Ç–∏–≤–Ω–æ—Å—Ç—å: –º–æ–±–∏–ª—å–Ω—ã–µ ‚Äî 72‚Äì84 px –∫–≤–∞–¥—Ä–∞—Ç—ã; tablet/desktop ‚Äî 96 px. –ú–∏–Ω–∏–º–∞–ª—å–Ω–∞—è –≤—ã—Å–æ—Ç–∞ —Ç–∞–ø‚Äë–∑–æ–Ω ‚â• 48 px. –û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ overflow –Ω–∞ Web/iOS/Android.
- –ö—Ä–∏—Ç–µ—Ä–∏–∏ –ø—Ä–∏—ë–º–∫–∏: –ø–ª–∞–≤–Ω—ã–π —Å–∫—Ä–æ–ª–ª, –Ω–µ—Ç RenderFlex overflow; –ª—ç–π–∞—É—Ç —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç –±—Ä–µ–π–∫–ø–æ–∏–Ω—Ç–∞–º.

### –ó–∞–¥–∞—á–∞ 34.11: Fix ‚Äî –ï–¥–∏–Ω–∞—è —Ç–æ—á–∫–∞ –≤—Ö–æ–¥–∞ (—Ç–æ–ª—å–∫–æ ¬´–ë–∞—à–Ω—è¬ª)
- –§–∞–π–ª—ã: `lib/routing/app_router.dart`, `lib/screens/levels_map_screen.dart`, `lib/screens/main_street_screen.dart`, —Ç–µ—Å—Ç—ã.
- –ß—Ç–æ —Å–¥–µ–ª–∞—Ç—å:
  1) –£–¥–∞–ª–∏—Ç—å –º–∞—Ä—à—Ä—É—Ç `/floor/1` –∏ –≤—Å–µ –æ–±—Ä–∞—â–µ–Ω–∏—è –∫ –Ω–µ–º—É; –æ—Å—Ç–∞–≤–∏—Ç—å —Ç–æ–ª—å–∫–æ `/tower` –∫–∞–∫ —Ç–æ—á–∫—É –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ –∏ –æ—Ç–∫—Ä—ã—Ç–∏—è —É—Ä–æ–≤–Ω–µ–π.
  2) –£–¥–∞–ª–∏—Ç—å/—É–ø—Ä–∞–∑–¥–Ω–∏—Ç—å –≤–µ—Ç–∫—É `floorMode` –≤ `LevelsMapScreen`; —ç–∫—Ä–∞–Ω –±–æ–ª—å—à–µ –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –∫–∞–∫ ¬´–≠—Ç–∞–∂¬ª.
  3) –ù–∞ –≥–ª–∞–≤–Ω–æ–π (¬´Main Street¬ª) –≤—Å–µ –ø–µ—Ä–µ—Ö–æ–¥—ã –≤–µ—Å—Ç–∏ –Ω–∞ `/tower` (–≤ —Ç–æ–º —á–∏—Å–ª–µ –∫–Ω–æ–ø–∫–∞ ¬´–ü—Ä–æ–¥–æ–ª–∂–∏—Ç—å¬ª ‚Äî —Å–º. 34.12).
- –ö—Ä–∏—Ç–µ—Ä–∏–∏ –ø—Ä–∏—ë–º–∫–∏: –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏ –Ω–µ—Ç –ø–µ—Ä–µ—Ö–æ–¥–æ–≤ –Ω–∞ `/floor/1`; –æ—Ç–∫—Ä—ã—Ç–∏–µ —É—Ä–æ–≤–Ω–µ–π –Ω–∞—á–∏–Ω–∞–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –∏–∑ —ç–∫—Ä–∞–Ω–∞ `BizTowerScreen`.

### –ó–∞–¥–∞—á–∞ 34.12: Fix ‚Äî –ù–∞–¥—ë–∂–Ω—ã–π –∞–≤—Ç–æ—Å–∫—Ä–æ–ª–ª –ø–æ —Ü–µ–ª–µ–≤–æ–º—É —É—Ä–æ–≤–Ω—é
- –§–∞–π–ª—ã: `lib/screens/biz_tower_screen.dart`, `lib/providers/levels_provider.dart`, `lib/screens/main_street_screen.dart`.
- –ß—Ç–æ —Å–¥–µ–ª–∞—Ç—å:
  1) –í `BizTowerScreen` —á–∏—Ç–∞—Ç—å query `scrollTo` –∏ –ø–æ—Å–ª–µ –ø–µ—Ä–≤–æ–π —É—Å–ø–µ—à–Ω–æ–π –∑–∞–≥—Ä—É–∑–∫–∏ —É–∑–ª–æ–≤ –≤—ã–∑–≤–∞—Ç—å `_scrollToLevelNumber(scrollTo)`.
  2) –ö–Ω–æ–ø–∫–∞ ¬´–ü—Ä–æ–¥–æ–ª–∂–∏—Ç—å¬ª –Ω–∞ –≥–ª–∞–≤–Ω–æ–π –≤—ã—á–∏—Å–ª—è–µ—Ç `nextLevelToContinueProvider` –∏ –¥–µ–ª–∞–µ—Ç –ø–µ—Ä–µ—Ö–æ–¥ `context.go('/tower?scrollTo=<levelNumber>')`.
  3) –°–æ—Ö—Ä–∞–Ω–∏—Ç—å —Ç–µ–∫—É—â–∏–π FAB ¬´–ü—Ä–æ–¥–æ–ª–∂–∏—Ç—å¬ª –≤ ¬´–ë–∞—à–Ω–µ¬ª (–ø—Ä–æ–∫—Ä—É—Ç–∫–∞ –∫ –∞–∫—Ç—É–∞–ª—å–Ω–æ–º—É —É–∑–ª—É) ‚Äî –∫–∞–∫ –¥—É–±–ª–∏—Ä—É—é—â–∏–π —É–¥–æ–±–Ω—ã–π —Å—Ü–µ–Ω–∞—Ä–∏–π.
- –ö—Ä–∏—Ç–µ—Ä–∏–∏ –ø—Ä–∏—ë–º–∫–∏: –ø—Ä–∏ –ø–µ—Ä–µ—Ö–æ–¥–µ –Ω–∞ `/tower?scrollTo=N` —ç–∫—Ä–∞–Ω –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–æ–∫—Ä—É—á–∏–≤–∞–µ—Ç—Å—è –∫ –Ω—É–∂–Ω–æ–º—É —É–∑–ª—É; –±–µ–∑ ¬´–¥—ë—Ä–≥–∞–Ω–∏–π¬ª –∏ –ø–æ–≤—Ç–æ—Ä–Ω—ã—Ö –∞–≤—Ç–æ—Å–∫—Ä–æ–ª–ª–æ–≤.

### –ó–∞–¥–∞—á–∞ 34.13: Fix ‚Äî –°—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç—å –≤—ã—á–∏—Å–ª–µ–Ω–∏—è –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏ —É—Ä–æ–≤–Ω–µ–π
- –§–∞–π–ª: `lib/providers/levels_provider.dart`.
- –ß—Ç–æ —Å–¥–µ–ª–∞—Ç—å:
  1) –î–æ–∂–¥–∞—Ç—å—Å—è –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏/–ø—Ä–æ—Ñ–∏–ª—è –ø–µ—Ä–µ–¥ –≤—ã–±–æ—Ä–∫–æ–π: –≤ –Ω–∞—á–∞–ª–µ –ø—Ä–æ–≤–∞–π–¥–µ—Ä–∞ –æ–∂–∏–¥–∞—Ç—å `currentUserProvider.future` (–∏–ª–∏ `authStateProvider.future`), —á—Ç–æ–±—ã –Ω–µ —Å—Ç–∞—Ä—Ç–æ–≤–∞—Ç—å —Å `userId=null`.
  2) –î–ª—è `subscriptionProvider` –Ω–µ –≤—ã—á–∏—Å–ª—è—Ç—å ¬´–ø—Ä–µ–º–∏—É–º‚Äë–±–ª–æ–∫–∏—Ä–æ–≤–∫—É¬ª, –ø–æ–∫–∞ –ø–µ—Ä–≤–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ –µ—â—ë –Ω–µ –ø–æ—Å—Ç—É–ø–∏–ª–æ ‚Äî –≤ —ç—Ç–æ–º —Å–æ—Å—Ç–æ—è–Ω–∏–∏ –ø—Ä–æ–≤–∞–π–¥–µ—Ä –¥–æ–ª–∂–µ–Ω –æ—Å—Ç–∞–≤–∞—Ç—å—Å—è `loading`, –∞ –Ω–µ –≤—ã–¥–∞–≤–∞—Ç—å ¬´–≤—Å—ë –∑–∞–∫—Ä—ã—Ç–æ¬ª.
  3) –£–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ –ø–µ—Ä–≤–∞—è –æ—Ç—Ä–∏—Å–æ–≤–∫–∞ –Ω–µ –¥–∞—ë—Ç –ª–æ–∂–Ω—ã—Ö `isLocked`/`lockReason` –∏–∑‚Äë–∑–∞ –Ω–µ–∑–∞–ø–æ–ª–Ω–µ–Ω–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö.
- –ö—Ä–∏—Ç–µ—Ä–∏–∏ –ø—Ä–∏—ë–º–∫–∏: –Ω–∞ —Ö–æ–ª–æ–¥–Ω–æ–º —Å—Ç–∞—Ä—Ç–µ –Ω–µ—Ç –º–∏–≥—Ä–∞—Ü–∏–∏ –∏–∑ ¬´–≤—Å—ë –∑–∞–∫—Ä—ã—Ç–æ¬ª –≤ ¬´–æ—Ç–∫—Ä—ã—Ç–æ¬ª —Å–ø—É—Å—Ç—è —Å–µ–∫—É–Ω–¥—É; —É—Ä–æ–≤–Ω–∏ —Å—Ç–∞–±–∏–ª—å–Ω–æ –∞–∫—Ç–∏–≤–Ω—ã —Å–æ–≥–ª–∞—Å–Ω–æ –ø—Ä–æ–≥—Ä–µ—Å—Å—É/–ø–æ–¥–ø–∏—Å–∫–µ.

### –ó–∞–¥–∞—á–∞ 34.14: Fix ‚Äî –û–±—Ä–∞–±–æ—Ç–∫–∞ JWT –≤ –≤—ã–±–æ—Ä–∫–µ —É—Ä–æ–≤–Ω–µ–π —Å –ø—Ä–æ–≥—Ä–µ—Å—Å–æ–º
- –§–∞–π–ª: `lib/services/supabase_service.dart`.
- –ß—Ç–æ —Å–¥–µ–ª–∞—Ç—å:
  1) –í `fetchLevelsWithProgress` –¥–æ–±–∞–≤–∏—Ç—å –æ–±—Ä–∞–±–æ—Ç–∫—É –∏—Å—Ç—ë–∫—à–µ–≥–æ JWT (–∞–Ω–∞–ª–æ–≥–∏—á–Ω–æ `fetchLevelsRaw`): –ø—Ä–∏ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–µ–º —Å–æ–æ–±—â–µ–Ω–∏–∏ –≤—ã–∑–≤–∞—Ç—å `auth.signOut()` –∏ –ø—Ä–æ–±—Ä–æ—Å–∏—Ç—å –∏—Å–∫–ª—é—á–µ–Ω–∏–µ.
  2) –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ UI ¬´–ë–∞—à–Ω–∏¬ª –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –ø–æ–Ω—è—Ç–Ω—É—é –æ—à–∏–±–∫—É/–∫–Ω–æ–ø–∫—É ¬´–ü–æ–≤—Ç–æ—Ä–∏—Ç—å¬ª, –∞ –Ω–µ ¬´–ø—Å–µ–≤–¥–æ‚Äë–∑–∞–∫—Ä—ã—Ç–æ–µ¬ª —Å–æ—Å—Ç–æ—è–Ω–∏–µ.
- –ö—Ä–∏—Ç–µ—Ä–∏–∏ –ø—Ä–∏—ë–º–∫–∏: –ø—Ä–∏ –∏—Å—Ç—ë–∫—à–µ–π —Å–µ—Å—Å–∏–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ —Ä–∞–∑–ª–æ–≥–∏–Ω–∏–≤–∞–µ—Ç—Å—è –∏ –ø–æ–ø–∞–¥–∞–µ—Ç –Ω–∞ —ç–∫—Ä–∞–Ω –≤—Ö–æ–¥–∞; –≤ Sentry –Ω–µ—Ç ¬´–∑–∞–ª–∏–ø—à–∏—Ö¬ª –æ—à–∏–±–æ–∫ –∑–∞–≥—Ä—É–∑–∫–∏ –±–∞—à–Ω–∏.

### –ó–∞–¥–∞—á–∞ 34.15: Fix ‚Äî –ß–µ–∫–ø–æ–∏–Ω—Ç—ã –∫–∞–∫ –≤–∏–∑—É–∞–ª—å–Ω—ã–µ —Ç–∏–∑–µ—Ä—ã (MVP)
- –§–∞–π–ª—ã: `lib/providers/levels_provider.dart` (–±–ª–æ–∫ —Ñ–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–∏—è `towerNodesProvider`), `lib/screens/biz_tower_screen.dart`.
- –ß—Ç–æ —Å–¥–µ–ª–∞—Ç—å:
  1) –í—Ä–µ–º–µ–Ω–Ω–æ –æ—Ç–∫–ª—é—á–∏—Ç—å –±–ª–æ–∫–∏—Ä–æ–≤–∫—É —Å–ª–µ–¥—É—é—â–µ–≥–æ —É—Ä–æ–≤–Ω—è —á–µ–∫–ø–æ–∏–Ω—Ç–æ–º (–Ω–µ —Å—Ç–∞–≤–∏—Ç—å `blockedByCheckpoint=true` –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é), —Å–æ—Ö—Ä–∞–Ω–∏–≤ –≤–∏–∑—É–∞–ª—å–Ω—É—é –∫–∞—Ä—Ç–æ—á–∫—É —á–µ–∫–ø–æ–∏–Ω—Ç–∞ –∏ –ª–æ–∫–∞–ª—å–Ω–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ –≤ Hive.
  2) –¢–µ–∫—Å—Ç —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π –æ—Å—Ç–∞–≤–∏—Ç—å, –Ω–æ –Ω–µ –ø—Ä–µ–ø—è—Ç—Å—Ç–≤–æ–≤–∞—Ç—å –ø–µ—Ä–µ—Ö–æ–¥—É –Ω–∞ —É—Ä–æ–≤–µ–Ω—å (MVP –±–µ–∑ –≥–µ–π—Ç–∞ —á–µ–∫–ø–æ–∏–Ω—Ç–∞–º–∏).
- –ö—Ä–∏—Ç–µ—Ä–∏–∏ –ø—Ä–∏—ë–º–∫–∏: –≤—Å–µ —É—Ä–æ–≤–Ω–∏ –æ—Å—Ç–∞—é—Ç—Å—è –¥–æ—Å—Ç—É–ø–Ω—ã –ø–æ –æ–±—â–∏–º –ø—Ä–∞–≤–∏–ª–∞–º –ø—Ä–æ–≥—Ä–µ—Å—Å–∞/–ø–æ–¥–ø–∏—Å–∫–∏; —á–µ–∫–ø–æ–∏–Ω—Ç—ã –≤–∏–¥–Ω—ã –∏ –º–æ–≥—É—Ç –æ—Ç–º–µ—á–∞—Ç—å—Å—è ¬´–ó–∞–≤–µ—Ä—à–∏—Ç—å¬ª, –Ω–æ –Ω–µ –±–ª–æ–∫–∏—Ä—É—é—Ç –ø–µ—Ä–µ—Ö–æ–¥—ã.

### –ó–∞–¥–∞—á–∞ 34.16: Fix ‚Äî –û—à–∏–±–∫–∏ –∑–∞–≥—Ä—É–∑–∫–∏ ¬´–ë–∞—à–Ω–∏¬ª: –ø–æ–Ω—è—Ç–Ω—ã–π UI –∏ retry
- –§–∞–π–ª: `lib/screens/biz_tower_screen.dart`.
- –ß—Ç–æ —Å–¥–µ–ª–∞—Ç—å:
  1) –í —Å–æ—Å—Ç–æ—è–Ω–∏–∏ `error` –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å –¥—Ä—É–∂–µ–ª—é–±–Ω—ã–π —ç–∫—Ä–∞–Ω —Å –∫–Ω–æ–ø–∫–æ–π ¬´–ü–æ–≤—Ç–æ—Ä–∏—Ç—å¬ª (–∏–Ω–≤–∞–ª–∏–¥–∞—Ü–∏—è `towerNodesProvider`), –±–µ–∑ –ø–æ–¥–º–µ–Ω—ã –Ω–∞ ¬´–∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ¬ª –ø–ª–∞—à–∫–∏ —ç—Ç–∞–∂–µ–π.
  2) –õ–æ–≥–∏—Ä–æ–≤–∞—Ç—å –∏—Å–∫–ª—é—á–µ–Ω–∏—è –≤ Sentry —Å –∫–∞—Ç–µ–≥–æ—Ä–∏–µ–π `tower_load_error`.
- –ö—Ä–∏—Ç–µ—Ä–∏–∏ –ø—Ä–∏—ë–º–∫–∏: –ø—Ä–∏ —Å–µ—Ç–µ–≤—ã—Ö/—Å–µ—Ä–≤–µ—Ä–Ω—ã—Ö —Å–±–æ—è—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤–∏–¥–∏—Ç –ø–æ–Ω—è—Ç–Ω—É—é –æ—à–∏–±–∫—É –∏ –º–æ–∂–µ—Ç –ø–æ–≤—Ç–æ—Ä–∏—Ç—å –ø–æ–ø—ã—Ç–∫—É; –Ω–µ—Ç –≤–∏–∑—É–∞–ª—å–Ω–æ–π –∏–º–∏—Ç–∞—Ü–∏–∏ ¬´–≤—Å—ë –∑–∞–∫—Ä—ã—Ç–æ¬ª.

### –ó–∞–¥–∞—á–∞ 34.17: Fix ‚Äî –ê—É–¥–∏—Ç –Ω–∞–≤–∏–≥–∞—Ü–∏–∏ –∏ –µ–¥–∏–Ω–æ–æ–±—Ä–∞–∑–∏–µ –æ—Ç–∫—Ä—ã—Ç–∏—è —É—Ä–æ–≤–Ω—è
- –§–∞–π–ª—ã: `lib/screens/main_street_screen.dart`, `lib/widgets/level_card.dart` (–≥–¥–µ –ø—Ä–∏–º–µ–Ω–∏–º–æ), –ø—Ä–æ—á–∏–µ —ç–∫—Ä–∞–Ω—ã —Å –ø—Ä—è–º—ã–º–∏ –ø–µ—Ä–µ—Ö–æ–¥–∞–º–∏ –Ω–∞ —É—Ä–æ–≤–µ–Ω—å.
- –ß—Ç–æ —Å–¥–µ–ª–∞—Ç—å:
  1) –ò—Å–∫–ª—é—á–∏—Ç—å –ø—Ä—è–º—ã–µ –ø–µ—Ä–µ—Ö–æ–¥—ã –Ω–∞ —É—Ä–æ–≤–µ–Ω—å –∑–∞ –ø—Ä–µ–¥–µ–ª–∞–º–∏ ¬´–ë–∞—à–Ω–∏¬ª (–∫—Ä–æ–º–µ —Å–∞–º–æ–≥–æ —ç–∫—Ä–∞–Ω–∞ —É—Ä–æ–≤–Ω—è). –í—Å–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–µ —Å—Ü–µ–Ω–∞—Ä–∏–∏ –æ—Ç–∫—Ä—ã—Ç–∏—è —É—Ä–æ–≤–Ω—è ‚Äî —á–µ—Ä–µ–∑ –Ω–∞–∂–∞—Ç–∏–µ –Ω–∞ —É–∑–µ–ª –≤ `BizTowerScreen`.
  2) –û–±–Ω–æ–≤–∏—Ç—å –Ω–∞–≤–∏–≥–∞—Ü–∏–æ–Ω–Ω—ã–µ SnackBar/–æ–±—Ä–∞–±–æ—Ç–∫—É –æ—à–∏–±–æ–∫ (Sentry) –¥–ª—è –µ–¥–∏–Ω–æ–æ–±—Ä–∞–∑–Ω—ã—Ö —Å–æ–æ–±—â–µ–Ω–∏–π.
- –ö—Ä–∏—Ç–µ—Ä–∏–∏ –ø—Ä–∏—ë–º–∫–∏: –µ–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω–∞—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∞—è —Ç–æ—á–∫–∞ –≤—Ö–æ–¥–∞ –≤ —É—Ä–æ–≤–µ–Ω—å ‚Äî ¬´–ë–∞—à–Ω—è¬ª.

### –ó–∞–¥–∞—á–∞ 34.18: –ù–∞–±–ª—é–¥–∞–µ–º–æ—Å—Ç—å –∏ —Ç–µ—Å—Ç—ã
- –§–∞–π–ª—ã: `test/screens/street_screen_test.dart` (–æ–±–Ω–æ–≤–∏—Ç—å –ø–æ–¥ –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–µ `/floor/1`), `test/screens/tower_map_screen_test.dart` (–¥–æ–±–∞–≤–∏—Ç—å/—Ä–∞—Å—à–∏—Ä–∏—Ç—å), CI.
- –ß—Ç–æ —Å–¥–µ–ª–∞—Ç—å:
  1) –û–±–Ω–æ–≤–∏—Ç—å —Ç–µ—Å—Ç—ã –ø–æ–¥ –Ω–æ–≤—É—é –Ω–∞–≤–∏–≥–∞—Ü–∏—é: –≥–ª–∞–≤–Ω–∞—è ‚Üí `/tower`, –ø—Ä–æ–≤–µ—Ä–∫–∞ `scrollTo`, –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–µ `/floor/1`.
  2) –†–∞—Å—à–∏—Ä–∏—Ç—å —Ç–µ—Å—Ç ¬´–ë–∞—à–Ω–∏¬ª –Ω–∞ —Å—Ü–µ–Ω–∞—Ä–∏–∏ –æ—à–∏–±–∫–∏ –∏ retry.
  3) –ß–µ—Ä–µ–∑ sentry‚Äëmcp –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –Ω–æ–≤—ã—Ö –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö UI‚Äë–æ—à–∏–±–æ–∫ –ø–æ—Å–ª–µ –Ω–∞–≤–∏–≥–∞—Ü–∏–∏ –∏ –∞–≤—Ç–æ—Å–∫—Ä–æ–ª–ª–∞ (–ø–æ—Ç—Ä–µ–±—É–µ—Ç—Å—è –∞–∫—Ç—É–∞–ª—å–Ω—ã–π —Ç–æ–∫–µ–Ω).
- –ö—Ä–∏—Ç–µ—Ä–∏–∏ –ø—Ä–∏—ë–º–∫–∏: —Ç–µ—Å—Ç—ã –∑–µ–ª—ë–Ω—ã–µ –ª–æ–∫–∞–ª—å–Ω–æ –∏ –≤ CI; Sentry –±–µ–∑ –Ω–æ–≤—ã—Ö –∫—Ä–∏—Ç–∏—á–Ω—ã—Ö –æ—à–∏–±–æ–∫.


# –≠—Ç–∞–ø 35: –ú–∏–Ω–∏‚Äë–∫–µ–π—Å—ã –Ω–∞ –±–∞—à–Ω–µ (–ø–æ—Å–ª–µ —É—Ä–æ–≤–Ω–µ–π 3, 6, 9)

–¶–µ–ª—å —ç—Ç–∞–ø–∞: –¥–æ–±–∞–≤–∏—Ç—å –≤ ¬´–ë–∞—à–Ω—é¬ª —Ç—Ä–∏ –º–∏–Ω–∏‚Äë–∫–µ–π—Å —á–µ–∫–ø–æ–∏–Ω—Ç–∞ —Å –õ–µ–æ (—Ñ–∞—Å–∏–ª–∏—Ç–∞—Ç–æ—Ä –∫–µ–π—Å–∞). –£–∑–ª—ã –∫–µ–π—Å–æ–≤ —Å—Ç–æ—è—Ç –º–µ–∂–¥—É —É—Ä–æ–≤–Ω—è–º–∏ –∏ —Ç—Ä–µ–±—É—é—Ç –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ–≥–æ –≤–∏–∑–∏—Ç–∞ –ø–µ—Ä–µ–¥ –ø–µ—Ä–µ—Ö–æ–¥–æ–º –Ω–∞ —Å–ª–µ–¥—É—é—â–∏–π —É—Ä–æ–≤–µ–Ω—å. –í–Ω—É—Ç—Ä–∏ –∫–µ–π—Å–∞ –¥–æ—Å—Ç—É–ø–Ω–∞ –∫–Ω–æ–ø–∫–∞ ¬´–ü—Ä–æ–ø—É—Å—Ç–∏—Ç—å¬ª ‚Äî –ø—Ä–∏ –Ω–∞–∂–∞—Ç–∏–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –º–æ–∂–µ—Ç –ø—Ä–æ–¥–æ–ª–∂–∏—Ç—å –ø—É—Ç—å –±–µ–∑ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –¥–∏–∞–ª–æ–≥–∞. –ú–∏–Ω–∏–º–∏–∑–∏—Ä—É–µ–º –∏–∑–º–µ–Ω–µ–Ω–∏—è, –ø–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑—É—è —Ç–µ–∫—É—â–∏–µ —Å–µ—Ä–≤–∏—Å—ã/–≤–∏–¥–∂–µ—Ç—ã.

### –ó–∞–¥–∞—á–∞ 35.1: –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö ‚Äî –ø—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ö–µ–º—ã –∏ –Ω–∞–ø–æ–ª–Ω–µ–Ω–∏–µ
- –§–∞–π–ª—ã/–∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã: Supabase (—á–µ—Ä–µ–∑ supabase‚Äëmcp), –º–∏–≥—Ä–∞—Ü–∏–∏.
- –ß—Ç–æ —Å–¥–µ–ª–∞—Ç—å:
  1) –£–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ —Å—É—â–µ—Å—Ç–≤—É—é—Ç —Ç–∞–±–ª–∏—Ü—ã `public.mini_cases` (–º–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ –∫–µ–π—Å–æ–≤) –∏ `public.user_case_progress` (–ø—Ä–æ–≥—Ä–µ—Å—Å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è), –≤–∫–ª—é—á–µ–Ω—ã RLS; –ø–æ–ª–∏—Ç–∏–∫–∏: `mini_cases` ‚Äî select –¥–ª—è `authenticated`; `user_case_progress` ‚Äî select/insert/update —Ç–æ–ª—å–∫–æ –¥–ª—è –≤–ª–∞–¥–µ–ª—å—Ü–∞ (`user_id = auth.uid()`).
  2) –ù–∞–ª–∏—á–∏–µ —Å–∏–¥–æ–≤: 3 –∫–µ–π—Å–∞ –∏–∑ –∫–æ–Ω—Ü–µ–ø—Ü–∏–∏ (id 1/2/3) —Å –ø–æ–ª—è–º–∏ `title`, `after_level` (3/6/9), `skill_name`, `estimated_minutes`, `hero_image_path`, `description_image_path`, `is_required=true`, `active=true`.
- –ö—Ä–∏—Ç–µ—Ä–∏–∏ –ø—Ä–∏—ë–º–∫–∏: select –ø–æ `mini_cases` –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç 3 –∑–∞–ø–∏—Å–∏; upsert –≤ `user_case_progress` –¥–æ—Å—Ç—É–ø–µ–Ω —Ç–æ–ª—å–∫–æ –¥–ª—è —Ç–µ–∫—É—â–µ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è.

### –ó–∞–¥–∞—á–∞ 35.2: –†–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π –∏ –ø—Ä–æ–≤–∞–π–¥–µ—Ä—ã –ø—Ä–æ–≥—Ä–µ—Å—Å–∞ –∫–µ–π—Å–∞
- –§–∞–π–ª—ã: `lib/repositories/cases_repository.dart` (–Ω–æ–≤—ã–π), `lib/providers/cases_provider.dart` (–Ω–æ–≤—ã–π), `lib/services/supabase_service.dart` (—Ä–∞—Å—à–∏—Ä–∏—Ç—å –ª—ë–≥–∫–∏–º–∏ –º–µ—Ç–æ–¥–∞–º–∏ —á—Ç–µ–Ω–∏—è/–∑–∞–ø–∏—Å–∏).
- –ß—Ç–æ —Å–¥–µ–ª–∞—Ç—å:
  1) –†–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π —Å –º–µ—Ç–æ–¥–∞–º–∏: `getCaseStatus(caseId)`, `startCase(caseId)`, `skipCase(caseId)`, `completeCase(caseId)`, `incrementHint(caseId)`, —Å SWR‚Äë–∫–µ—à–µ–º –Ω–∞ Hive.
  2) –ü—Ä–æ–≤–∞–π–¥–µ—Ä—ã: `caseStatusProvider(caseId)` (FutureProvider), `caseActionsProvider` (—É–¥–æ–±–Ω—ã–µ –º–µ—Ç–æ–¥—ã –¥–ª—è —ç–∫—Ä–∞–Ω–∞).
- –ö—Ä–∏—Ç–µ—Ä–∏–∏ –ø—Ä–∏—ë–º–∫–∏: –æ—Ñ–ª–∞–π–Ω‚Äë—á—Ç–µ–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–∞ –∏–∑ –∫–µ—à–∞, –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π upsert —Å—Ç–∞—Ç—É—Å–∞ `started/completed/skipped`.

### –ó–∞–¥–∞—á–∞ 35.3: –£–∑–ª—ã –º–∏–Ω–∏‚Äë–∫–µ–π—Å–æ–≤ –≤ ¬´–ë–∞—à–Ω–µ¬ª –∏ –≥–µ–π—Ç–∏–Ω–≥
- –§–∞–π–ª—ã: `lib/providers/levels_provider.dart` (—Ä–∞—Å—à–∏—Ä–∏—Ç—å `towerNodesProvider`), `lib/screens/biz_tower_screen.dart`.
- –ß—Ç–æ —Å–¥–µ–ª–∞—Ç—å:
  1) –í—Å—Ç–∞–≤–∏—Ç—å —É–∑–ª—ã `mini_case` –ø–æ—Å–ª–µ —É—Ä–æ–≤–Ω–µ–π 3, 6, 9. –í–∏–∑—É–∞–ª—å–Ω—ã–π —Å—Ç–∏–ª—å –∫–∞–∫ –∫–æ–º–ø–∞–∫—Ç–Ω–∞—è –∫–∞—Ä—Ç–æ—á–∫–∞ —á–µ–∫–ø–æ–∏–Ω—Ç–∞ —Å –∏–∫–æ–Ω–∫–æ–π üíº –∏ –ø–æ–¥–ø–∏—Å—å—é ¬´–ú–∏–Ω–∏‚Äë–∫–µ–π—Å: <–Ω–∞–∑–≤–∞–Ω–∏–µ>¬ª.
  2) –ù–∞–≤–∏–≥–∞—Ü–∏—è: —Ç–∞–ø –ø–æ —É–∑–ª—É –≤–µ–¥—ë—Ç –Ω–∞ `/case/:id`.
  3) –ì–µ–π—Ç–∏–Ω–≥ —Å–ª–µ–¥—É—é—â–µ–≥–æ —É—Ä–æ–≤–Ω—è: –ø—Ä–∏ –ø–æ–ø—ã—Ç–∫–µ –æ—Ç–∫—Ä—ã—Ç—å —É—Ä–æ–≤–µ–Ω—å –ø–æ—Å–ª–µ –∫–µ–π—Å–∞ ‚Äî –ø—Ä–æ–≤–µ—Ä—è—Ç—å `user_case_progress.status in ('completed','skipped')`. –ï—Å–ª–∏ –Ω–µ—Ç ‚Äî SnackBar ¬´–ó–∞–≤–µ—Ä—à–∏—Ç–µ –º–∏–Ω–∏‚Äë–∫–µ–π—Å¬ª –∏ —Ä–µ–¥–∏—Ä–µ–∫—Ç –Ω–∞ `/case/:id`.
- –ö—Ä–∏—Ç–µ—Ä–∏–∏ –ø—Ä–∏—ë–º–∫–∏: –±–µ–∑ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è/–ø—Ä–æ–ø—É—Å–∫–∞ –∫–µ–π—Å–∞ —Å–ª–µ–¥—É—é—â–∏–π —É—Ä–æ–≤–µ–Ω—å –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω; –ø–æ—Å–ª–µ `skip`/`complete` ‚Äî –¥–æ—Å—Ç—É–ø –æ—Ç–∫—Ä—ã—Ç.

### –ó–∞–¥–∞—á–∞ 35.4: –ú–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏—è
- –§–∞–π–ª: `lib/routing/app_router.dart`.
- –ß—Ç–æ —Å–¥–µ–ª–∞—Ç—å: –¥–æ–±–∞–≤–∏—Ç—å –º–∞—Ä—à—Ä—É—Ç `/case/:id` (id ‚àà {1,2,3}). –î–æ—Å—Ç—É–ø —Ç–æ–ª—å–∫–æ –¥–ª—è –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã—Ö. –í–æ–∑–≤—Ä–∞—Ç –≤ –±–∞—à–Ω—é –ø–æ `context.go('/tower?scrollTo=<after_level+1>')`.
- –ö—Ä–∏—Ç–µ—Ä–∏–∏ –ø—Ä–∏—ë–º–∫–∏: –ø—Ä—è–º–æ–π –ø–µ—Ä–µ—Ö–æ–¥ –ø–æ deeplink `/case/1` –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç —ç–∫—Ä–∞–Ω (–¥–ª—è –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω–Ω–æ–≥–æ), ¬´–ù–∞–∑–∞–¥¬ª –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –Ω–∞ –±–∞—à–Ω—é –∏ —Å–∫—Ä–æ–ª–ª–∏—Ç –∫ —Å–ª–µ–¥—É—é—â–µ–º—É —É–∑–ª—É.

### –ó–∞–¥–∞—á–∞ 35.5: –≠–∫—Ä–∞–Ω –º–∏–Ω–∏‚Äë–∫–µ–π—Å–∞ (3 –±–ª–æ–∫–∞)
- –§–∞–π–ª: `lib/screens/mini_case_screen.dart` (–Ω–æ–≤—ã–π).
- –ß—Ç–æ —Å–¥–µ–ª–∞—Ç—å:
  1) –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å 3‚Äë–±–ª–æ—á–Ω—É—é —Å—Ç—Ä—É–∫—Ç—É—Ä—É: –ü—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏–µ (—Ç–µ–∫—Å—Ç + –∫–∞—Ä—Ç–∏–Ω–∫–∞) ‚Üí –û–ø–∏—Å–∞–Ω–∏–µ (—Ç–µ–∫—Å—Ç + –∫–∞—Ä—Ç–∏–Ω–∫–∞) ‚Üí –î–∏–∞–ª–æ–≥ —Å –õ–µ–æ.
  2) –ü–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∫–æ–º–ø–æ–Ω–æ–≤–∫–∏ –∏–∑ `LevelDetailScreen` (PageView –±–µ–∑ —Å–≤–∞–π–ø–∞, –∫–Ω–æ–ø–∫–∏ ¬´–ù–∞–∑–∞–¥/–î–∞–ª–µ–µ¬ª), –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è ‚Äî —á–µ—Ä–µ–∑ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ –≤–∏–¥–∂–µ—Ç—ã (`CustomImage`), –ø–∞–¥–µ–Ω–∏—è –ø—Ä–∏ 404 –Ω–µ –¥–æ–ª–∂–Ω—ã –ª–æ–º–∞—Ç—å UI (–ø–ª–µ–π—Å—Ö–æ–ª–¥–µ—Ä).
  3) –ö–Ω–æ–ø–∫–∏: ¬´–ü—Ä–æ–ø—É—Å—Ç–∏—Ç—å¬ª –≤ AppBar –º–µ–Ω—é (soft‚Äëconfirm) ‚Üí `skipCase` ‚Üí –≤–æ–∑–≤—Ä–∞—Ç –Ω–∞ –±–∞—à–Ω—é; ¬´–ù–∞—á–∞—Ç—å –¥–∏–∞–ª–æ–≥¬ª –Ω–∞ 3‚Äë–º –±–ª–æ–∫–µ —Å—Ç–∞–≤–∏—Ç `started` (–µ—Å–ª–∏ –Ω–µ –±—ã–ª–æ).
- –ö—Ä–∏—Ç–µ—Ä–∏–∏ –ø—Ä–∏—ë–º–∫–∏: —É—Å—Ç–æ–π—á–∏–≤—ã–π UI –Ω–∞ Web/iOS/Android, –Ω–µ—Ç RenderFlex overflow, –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π –≤–æ–∑–≤—Ä–∞—Ç –Ω–∞ –±–∞—à–Ω—é.

### –ó–∞–¥–∞—á–∞ 35.6: –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –õ–µ–æ –≤ —Ä–µ–∂–∏–º–µ –∫–µ–π—Å–∞
- –§–∞–π–ª—ã: `lib/services/leo_service.dart` (—É—Ç–∏–ª–∏—Ç–∞ `buildCaseSystemPrompt`), `lib/screens/leo_dialog_screen.dart` (–ø–µ—Ä–µ–¥–∞—á–∞ `systemPrompt`).
- –ß—Ç–æ —Å–¥–µ–ª–∞—Ç—å:
  1) –°—Ñ–æ—Ä–º–∏—Ä–æ–≤–∞—Ç—å `systemPrompt` —Ñ–∞—Å–∏–ª–∏—Ç–∞—Ç–æ—Ä–∞ (`case_facilitator`) –Ω–∞ –æ—Å–Ω–æ–≤–µ –º–µ—Ç–∞–¥–∞–Ω–Ω—ã—Ö –∫–µ–π—Å–∞ (–Ω–∞–∑–≤–∞–Ω–∏–µ, –ø–æ—Å–ª–µ –∫–∞–∫–æ–≥–æ —É—Ä–æ–≤–Ω—è, –∫–ª—é—á–µ–≤–æ–π –Ω–∞–≤—ã–∫).
  2) –û—Ç–ø—Ä–∞–≤–ª—è—Ç—å —Å–æ–æ–±—â–µ–Ω–∏—è —á–µ—Ä–µ–∑ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π –ø—É—Ç—å –±–µ–∑ —Ä–∞—Å—Ö–æ–¥–∞ –ª–∏–º–∏—Ç–æ–≤: –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `mode='quiz'` (–∫–æ—Ä–æ—Ç–∫–∏–π –æ—Ç–≤–µ—Ç, –±–µ–∑ RAG/–∏—Å—Ç–æ—Ä–∏–∏) –∫–∞–∫ –≤—Ä–µ–º–µ–Ω–Ω—É—é –≤–µ—Ç–∫—É –¥–ª—è –∫–µ–π—Å–æ–≤; –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ –ø–æ–∑–∂–µ –¥–æ–±–∞–≤–∏—Ç—å `mode='case` –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ.
- –ö—Ä–∏—Ç–µ—Ä–∏–∏ –ø—Ä–∏—ë–º–∫–∏: –¥–∏–∞–ª–æ–≥ —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–∞–∫ —á–∞—Ç‚Äë—Ç–µ—Å—Ç (–∫–æ—Ä–æ—Ç–∫–∏–µ –æ—Ç–≤–µ—Ç—ã), –ª–∏–º–∏—Ç—ã —Å–æ–æ–±—â–µ–Ω–∏–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –Ω–µ —É–º–µ–Ω—å—à–∞—é—Ç—Å—è.

### –ó–∞–¥–∞—á–∞ 35.7: –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ nextLevelToContinue
- –§–∞–π–ª—ã: `lib/providers/...` (—Å–µ–ª–µ–∫—Ç–æ—Ä `nextLevelToContinueProvider`).
- –ß—Ç–æ —Å–¥–µ–ª–∞—Ç—å: –µ—Å–ª–∏ –ø–æ—Å–ª–µ —Ç–µ–∫—É—â–µ–≥–æ —É—Ä–æ–≤–Ω—è –ø—Ä–µ–¥—É—Å–º–æ—Ç—Ä–µ–Ω –º–∏–Ω–∏‚Äë–∫–µ–π—Å –∏ –µ–≥–æ —Å—Ç–∞—Ç—É—Å –Ω–µ `completed/skipped`, –≤–æ–∑–≤—Ä–∞—â–∞—Ç—å —Ü–µ–ª–µ–≤—ã–º —É–∑–ª–æ–º –∏–º–µ–Ω–Ω–æ —ç—Ç–æ—Ç –º–∏–Ω–∏‚Äë–∫–µ–π—Å (–¥–ª—è –∫–Ω–æ–ø–∫–∏ ¬´–ü—Ä–æ–¥–æ–ª–∂–∏—Ç—å¬ª –Ω–∞ –≥–ª–∞–≤–Ω–æ–π –∏ FAB –≤ –±–∞—à–Ω–µ).
- –ö—Ä–∏—Ç–µ—Ä–∏–∏ –ø—Ä–∏—ë–º–∫–∏: ¬´–ü—Ä–æ–¥–æ–ª–∂–∏—Ç—å¬ª –≤–µ–¥—ë—Ç –≤ –º–∏–Ω–∏‚Äë–∫–µ–π—Å –¥–æ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è/–ø—Ä–æ–ø—É—Å–∫–∞, –¥–∞–ª–µ–µ ‚Äî –Ω–∞ —Å–ª–µ–¥—É—é—â–∏–π —É—Ä–æ–≤–µ–Ω—å.

### –ó–∞–¥–∞—á–∞ 35.8: –¢–µ—Å—Ç—ã
- –§–∞–π–ª—ã: `test/providers/cases_provider_test.dart`, `test/screens/mini_case_flow_test.dart`, –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è —Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö —Ç–µ—Å—Ç–æ–≤ –±–∞—à–Ω–∏.
- –ß—Ç–æ —Å–¥–µ–ª–∞—Ç—å:
  1) –ü—Ä–æ–≤–∞–π–¥–µ—Ä—ã: —Å–æ–∑–¥–∞–Ω–∏–µ/–æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–∞ –∫–µ–π—Å–∞ (started‚Üískipped/ completed), –æ—Ñ–ª–∞–π–Ω‚Äë–∫–µ—à.
  2) E2E: –ø–µ—Ä–µ—Ö–æ–¥ –Ω–∞ `/case/1` ‚Üí ¬´–ü—Ä–æ–ø—É—Å—Ç–∏—Ç—å¬ª ‚Üí –≤–æ–∑–≤—Ä–∞—Ç –Ω–∞ –±–∞—à–Ω—é ‚Üí –¥–æ—Å—Ç—É–ø –∫ —É—Ä–æ–≤–Ω—é 4 –æ—Ç–∫—Ä—ã—Ç.
  3) –ù–∞–≤–∏–≥–∞—Ü–∏—è –±–∞—à–Ω–∏: –ø—Ä–∏ –Ω–µ–∑–∞–≤–µ—Ä—à—ë–Ω–Ω–æ–º –∫–µ–π—Å–µ ‚Äî —Ä–µ–¥–∏—Ä–µ–∫—Ç/–ø–æ–¥—Å–∫–∞–∑–∫–∞.
- –ö—Ä–∏—Ç–µ—Ä–∏–∏ –ø—Ä–∏—ë–º–∫–∏: —Ç–µ—Å—Ç—ã –∑–µ–ª—ë–Ω—ã–µ –ª–æ–∫–∞–ª—å–Ω–æ –∏ –≤ CI.

### –ó–∞–¥–∞—á–∞ 35.9: –ù–∞–±–ª—é–¥–∞–µ–º–æ—Å—Ç—å –∏ –æ—à–∏–±–∫–∏
- –§–∞–π–ª—ã: `lib/screens/mini_case_screen.dart`, `lib/screens/biz_tower_screen.dart`, `lib/services/leo_service.dart`.
- –ß—Ç–æ —Å–¥–µ–ª–∞—Ç—å: –¥–æ–±–∞–≤–∏—Ç—å breadcrumbs `case_opened`, `case_skipped`, `case_completed`, `case_dialog_started`; –≤—Å–µ –æ—à–∏–±–∫–∏ —Å–µ—Ç–µ–≤—ã—Ö –≤—ã–∑–æ–≤–æ–≤/–Ω–∞–≤–∏–≥–∞—Ü–∏–∏ ‚Äî –≤ `Sentry.captureException`, –±–µ–∑ PII.
- –ö—Ä–∏—Ç–µ—Ä–∏–∏ –ø—Ä–∏—ë–º–∫–∏: –≤ Sentry –Ω–µ—Ç –Ω–æ–≤—ã—Ö –∫—Ä–∏—Ç–∏—á–Ω—ã—Ö –æ—à–∏–±–æ–∫; —Å–æ–±—ã—Ç–∏—è –≤–∏–¥–Ω—ã –≤ breadcrumbs.

### –ó–∞–¥–∞—á–∞ 35.10: –ö–æ–Ω—Ç–µ–Ω—Ç –∏ –∞—Å—Å–µ—Ç—ã
- –§–∞–π–ª—ã: `assets/images/cases/*` (–ø–æ –º–µ—Ä–µ –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏).
- –ß—Ç–æ —Å–¥–µ–ª–∞—Ç—å: –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å –±–µ–∑–æ–ø–∞—Å–Ω—É—é –∑–∞–≥—Ä—É–∑–∫—É –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π –∫–µ–π—Å–æ–≤ (–ø–æ–¥–ø–∏—Å–∞–Ω–Ω—ã–µ URL –∏–ª–∏ –ª–æ–∫–∞–ª—å–Ω—ã–µ –∞—Å—Å–µ—Ç—ã), –ø–ª–µ–π—Å—Ö–æ–ª–¥–µ—Ä –Ω–∞ 404/timeout. –ù–∏–∫–∞–∫–∏—Ö –±–ª–æ–∫–∏—Ä—É—é—â–∏—Ö –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π –æ—Ç –∞—Å—Å–µ—Ç–æ–≤ ‚Äî —ç–∫—Ä–∞–Ω –¥–æ–ª–∂–µ–Ω —Ä–∞–±–æ—Ç–∞—Ç—å —Å —Ç–µ–∫—Å—Ç–æ–º –±–µ–∑ –∫–∞—Ä—Ç–∏–Ω–æ–∫.
- –ö—Ä–∏—Ç–µ—Ä–∏–∏ –ø—Ä–∏—ë–º–∫–∏: –∫–µ–π—Å –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ —Ä–µ–Ω–¥–µ—Ä–∏—Ç—Å—è –ø—Ä–∏ –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–∏/–æ—à–∏–±–∫–µ –∫–∞—Ä—Ç–∏–Ω–æ–∫.

# –≠—Ç–∞–ø 36. –ë–∞—à–Ω—è –ë–∏–∑–ª–µ–≤–µ–ª –∏ —á–µ–∫–ø–æ–∏–Ω—Ç—ã —Ü–µ–ª–∏

### –ó–∞–¥–∞—á–∞ 36.1: 3‚Äë–∫–æ–ª–æ–Ω–æ—á–Ω–∞—è —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∞—è —Å–µ—Ç–∫–∞ —É–∑–ª–æ–≤ –±–∞—à–Ω–∏
- –§–∞–π–ª—ã: `lib/screens/biz_tower_screen.dart`.
- –ß—Ç–æ —Å–¥–µ–ª–∞—Ç—å:
  1) –ü–æ—Å—Ç—Ä–æ–∏—Ç—å —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω—É—é —Å–µ—Ç–∫—É –∏–∑ 3 –∫–æ–ª–æ–Ω–æ–∫ –∏ N —Å—Ç—Ä–æ–∫ (–ø–æ —á–∏—Å–ª—É –æ–±—ä–µ–∫—Ç–æ–≤: —É—Ä–æ–≤–µ–Ω—å/—á–µ–∫–ø–æ–∏–Ω—Ç/–º–∏–Ω–∏‚Äë–∫–µ–π—Å). –ö–∞–∂–¥—ã–π –æ–±—ä–µ–∫—Ç –∑–∞–Ω–∏–º–∞–µ—Ç –æ–¥–Ω—É —Å—Ç—Ä–æ–∫—É.
  2) –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –±–µ–∑–æ–ø–∞—Å–Ω—ã–π –ø–∞—Ç—Ç–µ—Ä–Ω –∫–æ–ª–æ–Ω–æ–∫ (–Ω–∞–ø—Ä–∏–º–µ—Ä, `[1,0,2,1,0,2,‚Ä¶]`), —á—Ç–æ–±—ã –¥–≤–∞ —Å–æ—Å–µ–¥–Ω–∏—Ö –æ–±—ä–µ–∫—Ç–∞ –Ω–µ —Ä–∞—Å–ø–æ–ª–∞–≥–∞–ª–∏—Å—å –≤ –æ–¥–Ω–æ–π –≤–µ—Ä—Ç–∏–∫–∞–ª–∏. ¬´–†–µ—Å–µ–ø—à–Ω¬ª (—É—Ä–æ–≤–µ–Ω—å 0) ‚Äî –ø–æ —Ü–µ–Ω—Ç—Ä—É.
  3) –†–∞–∑–º–µ—â–∞—Ç—å —É–∑–ª—ã —á–µ—Ä–µ–∑ `Stack + Positioned` –Ω–∞ –æ—Å–Ω–æ–≤–µ —Ä–∞–∑–º–µ—Ä–æ–≤ –∏–∑ `LayoutBuilder` (–±–µ–∑ –∏–∑–º–µ—Ä–µ–Ω–∏–π —á–µ—Ä–µ–∑ `GlobalKey`). –†–∞–∑–º–µ—Ä—ã: level 88‚Äì96 px, checkpoint 72 px —Å –∏–∫–æ–Ω–∫–∞–º–∏ (–ø–æ—Ä—Ç—Ñ–µ–ª—å –¥–ª—è mini_case, —Ü–µ–ª—å ‚Äî –¥–ª—è –æ–±—ã—á–Ω—ã—Ö).
- –ö—Ä–∏—Ç–µ—Ä–∏–∏ –ø—Ä–∏—ë–º–∫–∏: —Å–µ—Ç–∫–∞ –≤–∏–∑—É–∞–ª—å–Ω–æ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç —Ä–µ—Ñ–µ—Ä–µ–Ω—Å—É (–∞–∫–∫—É—Ä–∞—Ç–Ω—ã–π ¬´–∑–∏–≥–∑–∞–≥¬ª), –Ω–µ—Ç overflow –Ω–∞ Web/iOS/Android, –ª–æ–≥–∏–∫–∞ –≥–µ–π—Ç–∏–Ω–≥–∞/–Ω–∞–≤–∏–≥–∞—Ü–∏–∏ –Ω–µ –º–µ–Ω—è–µ—Ç—Å—è.

### –ó–∞–¥–∞—á–∞ 36.2: ¬´–ú–∞–Ω—Ö—ç—Ç—Ç–µ–Ω¬ª –ª–∏–Ω–∏–∏ —Å –ø–ª–∞–≤–Ω—ã–º–∏ 90¬∞
- –§–∞–π–ª—ã: `lib/screens/biz_tower_screen.dart`.
- –ß—Ç–æ —Å–¥–µ–ª–∞—Ç—å:
  1) –ó–∞–º–µ–Ω–∏—Ç—å —Ç–µ–∫—É—â–∏–π painter –Ω–∞ `_GridPathPainter`, —Ä–∏—Å—É—é—â–∏–π –≤–µ—Ä—Ç–∏–∫–∞–ª—å–Ω–æ‚Äë–≥–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å–Ω—ã–µ —Å–µ–≥–º–µ–Ω—Ç—ã —Å –æ–¥–Ω–∏–º —Å–∫—Ä—É–≥–ª–µ–Ω–∏–µ–º (r = 18‚Äì24) –º–µ–∂–¥—É —Å–æ—Å–µ–¥–Ω–∏–º–∏ –æ–±—ä–µ–∫—Ç–∞–º–∏.
  2) –¶–≤–µ—Ç —Å–µ–≥–º–µ–Ω—Ç–∞ –ø–æ —Å—Ç–∞—Ç—É—Å—É —Å—Ç–∞—Ä—Ç–æ–≤–æ–≥–æ —É–∑–ª–∞: –∑–∞–≤–µ—Ä—à—ë–Ω–Ω—ã–π ‚Äî –∑–µ–ª—ë–Ω—ã–π, —Ç–µ–∫—É—â–∏–π ‚Äî –æ—Å–Ω–æ–≤–Ω–æ–π, –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω–Ω—ã–π ‚Äî —Å–µ—Ä—ã–π —Å –ø–æ–Ω–∏–∂–µ–Ω–Ω–æ–π –Ω–µ–ø—Ä–æ–∑—Ä–∞—á–Ω–æ—Å—Ç—å—é. –°–ª–æ–π –æ–±–µ—Ä–Ω—É—Ç—å –≤ `RepaintBoundary`.
  3) –°–æ–µ–¥–∏–Ω—è—Ç—å –≤—Å–µ —Å–æ—Å–µ–¥–∏ –≤–Ω—É—Ç—Ä–∏ —ç—Ç–∞–∂–∞ 1 (–≤–∫–ª—é—á–∞—è —á–µ–∫–ø–æ–∏–Ω—Ç—ã/–º–∏–Ω–∏‚Äë–∫–µ–π—Å). –õ–∏–Ω–∏–∏ –º–æ–≥—É—Ç –≤—ã—Ö–æ–¥–∏—Ç—å –∏–∑ –æ–±—ä–µ–∫—Ç–∞ —Å–≤–µ—Ä—Ö—É –∏–ª–∏ —Å–±–æ–∫—É, –ø–æ—Å–µ—Ä–µ–¥–∏–Ω–µ —Å—Ç–æ—Ä–æ–Ω—ã –≤—ã—Ö–æ–¥–∞ –æ–±—ä–µ–∫—Ç–∞. –í—Ö–æ–¥–∏—Ç—å –≤ —Å–ª–µ–¥—É—é—â–∏–π –æ–±—ä–µ–∫—Ç —Å–Ω–∏–∑—É, –ø–æ —Ü–µ–Ω—Ç—Ä—É –Ω–∏–∂–Ω–µ–π —Å—Ç–æ—Ä–æ–Ω—ã –æ–±—ä–µ–∫—Ç–∞. –†–∞–∑–¥–µ–ª–∏—Ç–µ–ª–∏ —ç—Ç–∞–∂–µ–π 2‚Äì4 –æ—Å—Ç–∞–≤–∏—Ç—å ¬´–°–∫–æ—Ä–æ¬ª –Ω–∞–¥ –ª–∏–Ω–∏—è–º–∏.
- –ö—Ä–∏—Ç–µ—Ä–∏–∏ –ø—Ä–∏—ë–º–∫–∏: –ª–∏–Ω–∏–∏ –∞–∫–∫—É—Ä–∞—Ç–Ω—ã–µ, –±–µ–∑ –¥–∏–∞–≥–æ–Ω–∞–ª–µ–π, –Ω–µ –ø–µ—Ä–µ–∫—Ä—ã–≤–∞—é—Ç –∫–æ–Ω—Ç–µ–Ω—Ç; –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å —Å—Ç–∞–±–∏–ª—å–Ω–∞—è.

### –ó–∞–¥–∞—á–∞ 36.3: –ù–∞–¥—ë–∂–Ω—ã–π –∞–≤—Ç–æ—Å–∫—Ä–æ–ª–ª, breadcrumbs –∏ —Ç–µ—Å—Ç
- –§–∞–π–ª—ã: `lib/screens/biz_tower_screen.dart`, `test/screens/tower_map_screen_test.dart`.
- –ß—Ç–æ —Å–¥–µ–ª–∞—Ç—å:
  1) –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –∞–≤—Ç–æ—Å–∫—Ä–æ–ª–ª –∫ —É–∑–ª—É –ø–æ `scrollTo` –∏ FAB —á–µ—Ä–µ–∑ —Ä–∞—Å—á—ë—Ç–Ω—ã–π `offset` –Ω–∞ `ScrollController.animateTo()` (–±–µ–∑ `ensureVisible`), —Å –∑–∞—â–∏—Ç–æ–π –æ—Ç –ø–æ–≤—Ç–æ—Ä–æ–≤.
  2) –î–æ–±–∞–≤–∏—Ç—å breadcrumbs: `tower_opened`, `tower_level_tap_open`, `tower_level_tap_locked`, `tower_checkpoint_completed`.
  3) –û–±–Ω–æ–≤–∏—Ç—å/–¥–æ–±–∞–≤–∏—Ç—å –≤–∏–¥–∂–µ—Ç‚Äë—Ç–µ—Å—Ç: –ø–æ—Ä—è–¥–æ–∫ —Å–Ω–∏–∑—É –≤–≤–µ—Ä—Ö –≤ —Å–µ—Ç–∫–µ, –Ω–∞–ª–∏—á–∏–µ ¬´–°–∫–æ—Ä–æ¬ª –¥–ª—è —ç—Ç–∞–∂–µ–π 2‚Äì4, smoke‚Äë–ø—Ä–æ–≤–µ—Ä–∫–∞ —Å–∫—Ä–æ–ª–ª–∞.
- –ö—Ä–∏—Ç–µ—Ä–∏–∏ –ø—Ä–∏—ë–º–∫–∏: –∞–≤—Ç–æ—Å–∫—Ä–æ–ª–ª –±–µ–∑ ¬´–¥—ë—Ä–≥–∞–Ω–∏–π¬ª, —Å–æ–±—ã—Ç–∏—è –≤–∏–¥–Ω—ã –≤ Sentry, —Ç–µ—Å—Ç—ã –∑–µ–ª—ë–Ω—ã–µ –ª–æ–∫–∞–ª—å–Ω–æ –∏ –≤ CI.

### –ó–∞–¥–∞—á–∞ 36.4: –£–∑–ª—ã —á–µ–∫–ø–æ–∏–Ω—Ç–æ–≤ —Ü–µ–ª–∏ (goal_checkpoint) –≤ –ë–∞—à–Ω–µ
- –§–∞–π–ª—ã: `lib/providers/levels_provider.dart` (—Ä–∞—Å—à–∏—Ä–∏—Ç—å `towerNodesProvider`).
- –ß—Ç–æ —Å–¥–µ–ª–∞—Ç—å:
  1) –í—Å—Ç–∞–≤–∏—Ç—å —É–∑–ª—ã —Ç–∏–ø–∞ `goal_checkpoint` –ø–æ—Å–ª–µ —É—Ä–æ–≤–Ω–µ–π 4, 7 –∏ 10 (–¥–ª—è –≤–µ—Ä—Å–∏–π v2, v3, v4 —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ).
  2) –î–ª—è –∫–∞–∂–¥–æ–≥–æ —É–∑–ª–∞ —Ö—Ä–∞–Ω–∏—Ç—å –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ: `version`, `title` (–Ω–∞–ø—Ä–∏–º–µ—Ä, ¬´v2 –ú–µ—Ç—Ä–∏–∫–∏¬ª, ¬´v3 SMART¬ª, ¬´v4 –§–∏–Ω–∞–ª¬ª), —Å–æ—Å—Ç–æ—è–Ω–∏—è `isCompleted` (–∏—Å—Ç–æ—á–Ω–∏–∫ –∏—Å—Ç–∏–Ω—ã ‚Äî —Ñ–∞–∫—Ç –Ω–∞–ª–∏—á–∏—è –∑–∞–ø–∏—Å–∏ –≤ `core_goals` —Å –¥–∞–Ω–Ω—ã–º `version`).
  3) –í–∏–∑—É–∞–ª—å–Ω–æ –æ—Ñ–æ—Ä–º–∏—Ç—å –∫–∞–∫ –∫–æ–º–ø–∞–∫—Ç–Ω—É—é –∫–∞—Ä—Ç–æ—á–∫—É —á–µ–∫–ø–æ–∏–Ω—Ç–∞ (–∏–∫–æ–Ω–∫–∞ üéØ/—Ü–µ–ª—å) —Å —Å–æ—Å—Ç–æ—è–Ω–∏—è–º–∏: –≤—ã–ø–æ–ª–Ω–µ–Ω/–∞–∫—Ç–∏–≤–µ–Ω/–∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω.
- –ö—Ä–∏—Ç–µ—Ä–∏–∏ –ø—Ä–∏—ë–º–∫–∏: —É–∑–ª—ã —á–µ–∫–ø–æ–∏–Ω—Ç–æ–≤ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –ø–æ—è–≤–ª—è—é—Ç—Å—è –º–µ–∂–¥—É –Ω—É–∂–Ω—ã–º–∏ —É—Ä–æ–≤–Ω—è–º–∏; `isCompleted` –≤–µ—Ä–Ω–æ –≤—ã—á–∏—Å–ª—è–µ—Ç—Å—è –ø–æ –¥–∞–Ω–Ω—ã–º Supabase; –ª—ç–π–∞—É—Ç –±–µ–∑ overflow.

### –ó–∞–¥–∞—á–∞ 36.5: –ú–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏—è —á–µ–∫–ø–æ–∏–Ω—Ç–æ–≤ —Ü–µ–ª–∏
- –§–∞–π–ª—ã: `lib/routing/app_router.dart`, (–æ–ø—Ü.) `lib/screens/biz_tower_screen.dart`.
- –ß—Ç–æ —Å–¥–µ–ª–∞—Ç—å:
  1) –î–æ–±–∞–≤–∏—Ç—å –º–∞—Ä—à—Ä—É—Ç `/goal-checkpoint/:version` (version ‚àà {2,3,4}), –¥–æ—Å—Ç—É–ø —Ç–æ–ª—å–∫–æ –¥–ª—è –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã—Ö.
  2) –¢–∞–ø –ø–æ —É–∑–ª—É `goal_checkpoint` –≤–µ–¥—ë—Ç –Ω–∞ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–π –º–∞—Ä—à—Ä—É—Ç. –í–æ–∑–≤—Ä–∞—Ç ‚Äî `context.go('/tower?scrollTo=<nextLevelNumber>')`.
  3) –ù–∞–≤–∏–≥–∞—Ü–∏—é –æ–±–µ—Ä–Ω—É—Ç—å –≤ try/catch —Å –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ–º –≤ Sentry –∏ –¥—Ä—É–∂–µ–ª—é–±–Ω—ã–º SnackBar.
- –ö—Ä–∏—Ç–µ—Ä–∏–∏ –ø—Ä–∏—ë–º–∫–∏: –ø–µ—Ä–µ—Ö–æ–¥—ã –≤ —á–µ–∫–ø–æ–∏–Ω—Ç/–æ–±—Ä–∞—Ç–Ω–æ —Å—Ç–∞–±–∏–ª—å–Ω—ã, –æ—à–∏–±–∫–∏ –Ω–∞–≤–∏–≥–∞—Ü–∏–∏ –ª–æ–≥–∏—Ä—É—é—Ç—Å—è, deeplink `/goal-checkpoint/2` –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è (–¥–ª—è –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã—Ö).

### –ó–∞–¥–∞—á–∞ 36.6: –ü–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º–∞—è —Ñ–æ—Ä–º–∞ –≤–µ—Ä—Å–∏–∏ —Ü–µ–ª–∏
- –§–∞–π–ª—ã: `lib/screens/goal_screen.dart` (—Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥), `lib/widgets/goal_version_form.dart` (–Ω–æ–≤—ã–π).
- –ß—Ç–æ —Å–¥–µ–ª–∞—Ç—å:
  1) –í—ã–Ω–µ—Å—Ç–∏ –ª–æ–≥–∏–∫—É –≤–≤–æ–¥–∞ –∏ –≤–∞–ª–∏–¥–∞—Ü–∏–∏ –≤–µ—Ä—Å–∏–π v1‚Äìv4 –∏–∑ `GoalScreen` –≤ –≤–∏–¥–∂–µ—Ç `GoalVersionForm` —Å –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏: `version`, `initialData`, `onSave()`, `editing`.
  2) –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤—ã–ø–æ–ª–Ω—è–µ—Ç —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π `GoalsRepository` (`upsertGoalVersion`/`updateGoalById`), –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ –∏ SnackBar ‚Äî –≤–Ω—É—Ç—Ä–∏ —ç–∫—Ä–∞–Ω–∞‚Äë—Ö–æ—Å—Ç–∞.
  3) –ù–µ –º–µ–Ω—è—Ç—å –∫–æ–Ω—Ç—Ä–∞–∫—Ç —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è –∏ —Å—Ç—Ä—É–∫—Ç—É—Ä—É `version_data` (–º–∏–≥—Ä–∞—Ü–∏–∏ –ë–î –Ω–µ —Ç—Ä–µ–±—É—é—Ç—Å—è).
- –ö—Ä–∏—Ç–µ—Ä–∏–∏ –ø—Ä–∏—ë–º–∫–∏: —Ç–µ–∫—É—â–∏–π `GoalScreen` –∫–æ–º–ø–∏–ª–∏—Ä—É–µ—Ç—Å—è —Å –Ω–æ–≤—ã–º –≤–∏–¥–∂–µ—Ç–æ–º; –ø–æ–≤–µ–¥–µ–Ω–∏–µ —Ñ–æ—Ä–º—ã –≤ —á–µ–∫–ø–æ–∏–Ω—Ç–µ –∏ –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ —Ü–µ–ª–∏ –∏–¥–µ–Ω—Ç–∏—á–Ω–æ (–ø—Ä–∏ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–∏).

### –ó–∞–¥–∞—á–∞ 36.7: –≠–∫—Ä–∞–Ω —á–µ–∫–ø–æ–∏–Ω—Ç–∞ —Ü–µ–ª–∏ (2 –±–ª–æ–∫–∞)
- –§–∞–π–ª—ã: `lib/screens/goal_checkpoint_screen.dart` (–Ω–æ–≤—ã–π), `lib/widgets/custom_image.dart` (–ø–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ), `lib/screens/leo_dialog_screen.dart` (–ø–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ).
- –ß—Ç–æ —Å–¥–µ–ª–∞—Ç—å:
  1) –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –º–∏–Ω–∏‚Äë—É—Ä–æ–≤–µ–Ω—å –∏–∑ –¥–≤—É—Ö –±–ª–æ–∫–æ–≤: –ë–ª–æ–∫ 1 ‚Äî –∫–∞—Ä—Ç–∏–Ω–∫–∞ + –∫—Ä–∞—Ç–∫–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ –≤–µ—Ä—Å–∏–∏; –ë–ª–æ–∫ 2 ‚Äî `GoalVersionForm` –¥–ª—è —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–µ–π –≤–µ—Ä—Å–∏–∏ (v2/v3/v4).
  2) –í–Ω–∏–∑—É –ë–ª–æ–∫–∞ 2 –¥–æ–±–∞–≤–∏—Ç—å –∫–Ω–æ–ø–∫—É ¬´–°—Ñ–æ—Ä–º–∏—Ä–æ–≤–∞—Ç—å —Å –ú–∞–∫—Å–æ–º¬ª: `showModalBottomSheet` —Å `LeoDialogScreen(bot: 'max')`. –í `systemPrompt` —É–∫–∞–∑–∞—Ç—å —Ü–µ–ª—å: ¬´–ø–æ–º–æ—á—å —Å—Ñ–æ—Ä–º—É–ª–∏—Ä–æ–≤–∞—Ç—å –≤–µ—Ä—Å–∏—é vN –∫—Ä–∞—Ç–∫–æ –∏ —á—ë—Ç–∫–æ¬ª, –≤ `userContext` ‚Äî —Ç–µ–∫—É—â–∏–µ –ø–æ–ª—è —Ñ–æ—Ä–º—ã.
  3) –ü–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–≥–æ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è –∏–Ω–≤–∞–ª–∏–¥–∏—Ä–æ–≤–∞—Ç—å `goalLatestProvider`/`goalVersionsProvider`, –ø–æ–∫–∞–∑–∞—Ç—å SnackBar.
- –ö—Ä–∏—Ç–µ—Ä–∏–∏ –ø—Ä–∏—ë–º–∫–∏: —Ñ–æ—Ä–º–∞ —Ä–µ–¥–∞–∫—Ç–∏—Ä—É–µ—Ç—Å—è –∏ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –≤ —á–µ–∫–ø–æ–∏–Ω—Ç–µ; –¥–∏–∞–ª–æ–≥ —Å –ú–∞–∫—Å–æ–º –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è –∏ –ø–æ–ª—É—á–∞–µ—Ç –∞–∫—Ç—É–∞–ª—å–Ω—ã–π –∫–æ–Ω—Ç–µ–∫—Å—Ç; –≤–æ–∑–≤—Ä–∞—Ç –Ω–∞ –±–∞—à–Ω—é —Ä–∞–±–æ—Ç–∞–µ—Ç.

### –ó–∞–¥–∞—á–∞ 36.8: –°—Ç—Ä–∞–Ω–∏—Ü–∞ ¬´–¶–µ–ª—å¬ª ‚Äî —Ä–µ–∂–∏–º —Ç–æ–ª—å–∫–æ —á—Ç–µ–Ω–∏–µ
- –§–∞–π–ª—ã: `lib/screens/goal_screen.dart`.
- –ß—Ç–æ —Å–¥–µ–ª–∞—Ç—å:
  1) –£–±—Ä–∞—Ç—å –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è/—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ ¬´–¶–µ–ª—å¬ª (–∫–∞—Ä–∞–Ω–¥–∞—à, –∫–Ω–æ–ø–∫–∞ ¬´–°–æ—Ö—Ä–∞–Ω–∏—Ç—å¬ª, –ø–æ–ª—è –≤–≤–æ–¥–∞).
  2) –í–º–µ—Å—Ç–æ —Ñ–æ—Ä–º –æ—Ç—Ä–∏—Å–æ–≤—ã–≤–∞—Ç—å —Ç–∞–±–ª–∏—á–Ω—ã–π –æ–±–∑–æ—Ä –ø–æ –≤—Å–µ–º –≤–µ—Ä—Å–∏—è–º (v1‚Äìv4): –¥–≤–µ –∫–æ–ª–æ–Ω–∫–∏ ‚Äî ¬´–ù–∞–∑–≤–∞–Ω–∏–µ –ø–æ–ª—è¬ª –∏ ¬´–ó–Ω–∞—á–µ–Ω–∏–µ –∏–∑ —á–µ–∫–ø–æ–∏–Ω—Ç–∞¬ª; –µ—Å–ª–∏ –≤–µ—Ä—Å–∏—è –Ω–µ —Å–æ–∑–¥–∞–Ω–∞ ‚Äî –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å –Ω–µ–π—Ç—Ä–∞–ª—å–Ω—ã–π –ø–ª–µ–π—Å—Ö–æ–ª–¥–µ—Ä.
  3) –°–æ—Ö—Ä–∞–Ω–∏—Ç—å ¬´–ü—É—Ç—å –∫ —Ü–µ–ª–∏¬ª (—Å–ø—Ä–∏–Ω—Ç—ã) –∫–∞–∫ –µ—Å—Ç—å (–¥–æ—Å—Ç—É–ø –ø–æ—Å–ª–µ v4) –∏ –ø–ª–∞–≤–∞—é—â–∏–π –±–∞–±–±–ª –ú–∞–∫—Å–∞.
- –ö—Ä–∏—Ç–µ—Ä–∏–∏ –ø—Ä–∏—ë–º–∫–∏: –Ω–∞ ¬´–¶–µ–ª–∏¬ª –ø–æ–ª—è –Ω–µ —Ä–µ–¥–∞–∫—Ç–∏—Ä—É—é—Ç—Å—è; —Ç–∞–±–ª–∏—Ü–∞ –≤–µ—Ä—Å–∏–π –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Å–æ—Ö—Ä–∞–Ω—ë–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ; —Ä–µ–≥—Ä–µ—Å—Å–∏–π —Å–ø—Ä–∏–Ω—Ç–æ–≤ –Ω–µ—Ç.

### –ó–∞–¥–∞—á–∞ 36.9: –ü—Ä–æ–≤–∞–π–¥–µ—Ä –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏ –≤–µ—Ä—Å–∏–π –∏ –≥–µ–π—Ç–∏–Ω–≥ –ø—Ä–æ–≥—Ä–µ—Å—Å–∞
- –§–∞–π–ª—ã: `lib/providers/goals_providers.dart` (–Ω–æ–≤—ã–π —Å–µ–ª–µ–∫—Ç–æ—Ä), `lib/providers/levels_provider.dart`.
- –ß—Ç–æ —Å–¥–µ–ª–∞—Ç—å:
  1) –î–æ–±–∞–≤–∏—Ç—å `hasGoalVersionProvider(version)` (FutureProvider<bool>) ‚Äî –ø—Ä–æ–≤–µ—Ä—è–µ—Ç –Ω–∞–ª–∏—á–∏–µ –∑–∞–ø–∏—Å–∏ –≤ `core_goals` –¥–ª—è —Ç–µ–∫—É—â–µ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è.
  2) –í `towerNodesProvider` –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —ç—Ç–æ—Ç —Å–µ–ª–µ–∫—Ç–æ—Ä –¥–ª—è –≤—ã—á–∏—Å–ª–µ–Ω–∏—è `isCompleted` —É —É–∑–ª–æ–≤ `goal_checkpoint` –∏ –¥–ª—è –ø–æ–¥—Å–≤–µ—Ç–∫–∏ —Å–ª–µ–¥—É—é—â–µ–≥–æ —É—Ä–æ–≤–Ω—è.
  3) –í `nextLevelToContinueProvider` —É—á–∏—Ç—ã–≤–∞—Ç—å –Ω–µ–∑–∞–≤–µ—Ä—à—ë–Ω–Ω—ã–π `goal_checkpoint` –∫–∞–∫ —Å–ª–µ–¥—É—é—â–∏–π —Ü–µ–ª–µ–≤–æ–π —É–∑–µ–ª.
- –ö—Ä–∏—Ç–µ—Ä–∏–∏ –ø—Ä–∏—ë–º–∫–∏: –∫–Ω–æ–ø–∫–∏ ¬´–ü—Ä–æ–¥–æ–ª–∂–∏—Ç—å¬ª (–≥–ª–∞–≤–Ω–∞—è/–ë–∞—à–Ω—è) –≤–µ–¥—É—Ç –≤ –Ω–µ–∑–∞–≤–µ—Ä—à—ë–Ω–Ω—ã–π —á–µ–∫–ø–æ–∏–Ω—Ç —Ü–µ–ª–∏; –ø–æ—Å–ª–µ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è –≤–µ—Ä—Å–∏–∏ ‚Äî –≤–µ–¥—É—Ç –Ω–∞ —Å–ª–µ–¥—É—é—â–∏–π —É—Ä–æ–≤–µ–Ω—å.

### –ó–∞–¥–∞—á–∞ 36.10: –ù–∞–±–ª—é–¥–∞–µ–º–æ—Å—Ç—å –∏ —É—Å—Ç–æ–π—á–∏–≤–æ—Å—Ç—å
- –§–∞–π–ª—ã: `lib/screens/goal_checkpoint_screen.dart`, `lib/screens/goal_screen.dart`, `lib/screens/biz_tower_screen.dart`.
- –ß—Ç–æ —Å–¥–µ–ª–∞—Ç—å:
  1) –î–æ–±–∞–≤–∏—Ç—å breadcrumbs: `goal_checkpoint_opened`, `goal_checkpoint_saved`, `goal_checkpoint_max_opened`.
  2) –û–±–µ—Ä–Ω—É—Ç—å —Å–µ—Ç–µ–≤—ã–µ –≤—ã–∑–æ–≤—ã/–Ω–∞–≤–∏–≥–∞—Ü–∏—é –≤ try/catch —Å `Sentry.captureException`, –±–µ–∑ PII; –¥—Ä—É–∂–µ–ª—é–±–Ω—ã–µ SnackBar.
  3) –ù–∞ –æ—à–∏–±–∫–∞—Ö –∑–∞–≥—Ä—É–∑–∫–∏ –¥–∞–Ω–Ω—ã—Ö –≤–µ—Ä—Å–∏–∏ ‚Äî –ø–æ–Ω—è—Ç–Ω—ã–π —Å—Ç–µ–π—Ç —Å –∫–Ω–æ–ø–∫–æ–π ¬´–ü–æ–≤—Ç–æ—Ä–∏—Ç—å¬ª (–∏–Ω–≤–∞–ª–∏–¥–∞—Ü–∏—è –ø—Ä–æ–≤–∞–π–¥–µ—Ä–æ–≤).
- –ö—Ä–∏—Ç–µ—Ä–∏–∏ –ø—Ä–∏—ë–º–∫–∏: Sentry –±–µ–∑ –Ω–æ–≤—ã—Ö –∫—Ä–∏—Ç–∏—á–Ω—ã—Ö –æ—à–∏–±–æ–∫; –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é –ø–æ–Ω—è—Ç–Ω—ã –æ—à–∏–±–∫–∏ –∏ –µ—Å—Ç—å retry.

### –ó–∞–¥–∞—á–∞ 36.11: –¢–µ—Å—Ç—ã (—Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏/–≤–∏–¥–∂–µ—Ç—ã/–Ω–∞–≤–∏–≥–∞—Ü–∏—è)
- –§–∞–π–ª—ã: `test/screens/goal_checkpoint_screen_test.dart` (–Ω–æ–≤—ã–π), `test/screens/goal_screen_readonly_test.dart` (–Ω–æ–≤—ã–π), –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è `test/screens/tower_map_screen_test.dart` –∏ —Å–µ–ª–µ–∫—Ç–æ—Ä–æ–≤.
- –ß—Ç–æ —Å–¥–µ–ª–∞—Ç—å:
  1) –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ä–µ–Ω–¥–µ—Ä –¥–≤—É—Ö –±–ª–æ–∫–æ–≤ —á–µ–∫–ø–æ–∏–Ω—Ç–∞, –≤–≤–æ–¥ –∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤–µ—Ä—Å–∏–∏ —á–µ—Ä–µ–∑ –º–æ–∫–∏ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è, –æ—Ç–∫—Ä—ã—Ç–∏–µ –¥–∏–∞–ª–æ–≥–∞ –ú–∞–∫—Å–∞.
  2) –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ `GoalScreen` –Ω–µ –¥–∞—ë—Ç —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å –∏ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Ç–∞–±–ª–∏—Ü—É –∑–Ω–∞—á–µ–Ω–∏–π –ø–æ –≤–µ—Ä—Å–∏—è–º.
  3) –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –≥–µ–π—Ç–∏–Ω–≥ `nextLevelToContinueProvider` –Ω–∞ –Ω–µ–∑–∞–≤–µ—Ä—à—ë–Ω–Ω—ã–π —á–µ–∫–ø–æ–∏–Ω—Ç.
- –ö—Ä–∏—Ç–µ—Ä–∏–∏ –ø—Ä–∏—ë–º–∫–∏: —Ç–µ—Å—Ç—ã –ø—Ä–æ—Ö–æ–¥—è—Ç –ª–æ–∫–∞–ª—å–Ω–æ –∏ –≤ CI, —Ä–µ–≥—Ä–µ—Å—Å–æ–≤ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö —Ç–µ—Å—Ç–æ–≤ –Ω–µ—Ç.

### –ó–∞–¥–∞—á–∞ 36.12: –û—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–æ–Ω–Ω—ã–µ (Supabase/Sentry)
- –ß—Ç–æ —Å–¥–µ–ª–∞—Ç—å:
  1) –ú–∏–≥—Ä–∞—Ü–∏–∏ –ë–î –Ω–µ —Ç—Ä–µ–±—É—é—Ç—Å—è; –∏—Å–ø–æ–ª—å–∑—É–µ–º —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ —Ç–∞–±–ª–∏—Ü—ã `core_goals`/RLS. –í—Å–µ DDL ‚Äî —Ç–æ–ª—å–∫–æ —á–µ—Ä–µ–∑ supabase‚Äëmcp –ø—Ä–∏ –±—É–¥—É—â–∏—Ö –∏–∑–º–µ–Ω–µ–Ω–∏—è—Ö (–Ω–µ –≤ —ç—Ç–æ–π –∑–∞–¥–∞—á–µ).
  2) –ü–æ—Å–ª–µ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ —ç–∫—Ä–∞–Ω–æ–≤ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å Sentry‚Äë–ª–æ–≥–∏ –∑–∞ —Å–µ—Å—Å–∏—é —á–µ—Ä–µ–∑ sentry‚Äëmcp –∏ —É–±–µ–¥–∏—Ç—å—Å—è –≤ –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–∏ –∫—Ä–∏—Ç–∏—á–Ω—ã—Ö –æ—à–∏–±–æ–∫.
- –ö—Ä–∏—Ç–µ—Ä–∏–∏ –ø—Ä–∏—ë–º–∫–∏: —Å—Ö–µ–º–∞ –ë–î –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π, Sentry —á–∏—Å—Ç –æ—Ç –∫—Ä–∏—Ç–∏—á–Ω—ã—Ö –æ—à–∏–±–æ–∫, –Ω–∞–≤–∏–≥–∞—Ü–∏—è —Å—Ç–∞–±–∏–ª—å–Ω–∞.

### –ó–∞–¥–∞—á–∞ 36.13: –ï–¥–∏–Ω–∞—è –≥–µ–æ–º–µ—Ç—Ä–∏—è —É–∑–ª–æ–≤ –∏ –∫–æ–Ω—Å—Ç–∞–Ω—Ç—ã —Ä–∞–∑–º–µ—Ä–æ–≤
- –§–∞–π–ª—ã: `lib/screens/biz_tower_screen.dart`.
- –ß—Ç–æ —Å–¥–µ–ª–∞—Ç—å:
  1) –í–≤–µ—Å—Ç–∏ –∫–æ–Ω—Å—Ç–∞–Ω—Ç—ã –≤–≤–µ—Ä—Ö—É —Ñ–∞–π–ª–∞: `kNodeSize = 88.0`, `kCheckpointSize = 88.0`, `kRowHeight = 128.0`, `kLabelHeight = 34.0`, `kSidePadding = 24.0`, `kCornerRadius = 20.0` (–∑–Ω–∞—á–µ–Ω–∏—è ‚Äî –±–∞–∑–æ–≤—ã–µ; –¥–æ–ø—É—Å–∫–∞–µ—Ç—Å—è –ª—ë–≥–∫–∞—è –∫–æ—Ä—Ä–µ–∫—Ç–∏—Ä–æ–≤–∫–∞ –ø—Ä–∏ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏).
  2) –í `_buildTowerGrid(...)` –µ–¥–∏–Ω–æ–∂–¥—ã —Å—á–∏—Ç–∞—Ç—å –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —ç–ª–µ–º–µ–Ω—Ç–∞: `squareTop = centerY - size/2`, `widgetTop = squareTop - kLabelHeight`, `left = sidePadding + col*columnWidth + (columnWidth - size)/2` –∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —ç—Ç–∏ –∑–Ω–∞—á–µ–Ω–∏—è –∏ –¥–ª—è `Positioned(...)`, –∏ –¥–ª—è —Ä–∞—Å—á—ë—Ç–∞ —è–∫–æ—Ä–µ–π –ª–∏–Ω–∏–π.
  3) –£–¥–∞–ª–∏—Ç—å ¬´–º–∞–≥–∏—á–µ—Å–∫–∏–µ¬ª —Å–¥–≤–∏–≥–∏ (–Ω–∞–ø—Ä–∏–º–µ—Ä, `top - 34` —É —á–µ–∫–ø–æ–∏–Ω—Ç–æ–≤) –∏ –Ω–µ—Å–æ–≥–ª–∞—Å–æ–≤–∞–Ω–Ω—ã–µ —à–∏—Ä–∏–Ω—ã (`width: nodeSize` —É —á–µ–∫–ø–æ–∏–Ω—Ç–æ–≤). –í—Å–µ–≥–¥–∞ —Ä–µ–Ω–¥–µ—Ä–∏—Ç—å –ø–æ —Ä–∞—Å—Å—á–∏—Ç–∞–Ω–Ω–æ–º—É `size` (–¥–ª—è checkpoint/mini_case ‚Äî `kCheckpointSize`).
- –ö—Ä–∏—Ç–µ—Ä–∏–∏ –ø—Ä–∏—ë–º–∫–∏: –ª–µ–π–±–ª –∏ –∫–≤–∞–¥—Ä–∞—Ç –∫–∞–∂–¥–æ–≥–æ —É–∑–ª–∞ —Å–æ–≥–ª–∞—Å–æ–≤–∞–Ω—ã –ø–æ –≤–µ—Ä—Ç–∏–∫–∞–ª–∏; –≤–∏–∑—É–∞–ª—å–Ω–æ –Ω–µ—Ç —Å–º–µ—â–µ–Ω–∏—è –ª–∏–Ω–∏–π –∏–∑‚Äë–∑–∞ –∑–∞–≥–æ–ª–æ–≤–∫–∞; —Ä–µ–≥—Ä–µ—Å—Å–æ–≤ –ø–æ –ª—ç–π–∞—É—Ç—É –Ω–µ—Ç (Web/iOS/Android).

### –ó–∞–¥–∞—á–∞ 36.14: –Ø–∫–æ—Ä—è –ª–∏–Ω–∏–π –ø–æ —Ü–µ–Ω—Ç—Ä–∞–º —Å—Ç–æ—Ä–æ–Ω –∏ —Ç–æ—á–Ω–æ–µ –ø–æ–ø–∞–¥–∞–Ω–∏–µ –≤ —á–µ–∫–ø–æ–∏–Ω—Ç—ã
- –§–∞–π–ª—ã: `lib/screens/biz_tower_screen.dart`.
- –ß—Ç–æ —Å–¥–µ–ª–∞—Ç—å:
  1) –ü—Ä–∏ –ø–æ–¥–≥–æ—Ç–æ–≤–∫–µ —Å–µ–≥–º–µ–Ω—Ç–æ–≤ (`_GridSegment`):
     - –µ—Å–ª–∏ `a.col == b.col` ‚Äî –≤—ã—Ö–æ–¥ –∏–∑ –Ω–∏–∂–Ω–µ–π —Å—Ç–æ—Ä–æ–Ω—ã —Ü–µ–Ω—Ç—Ä–∞ A: `start = Offset(aCenter.dx, a.squareTop + a.size)`;
     - –∏–Ω–∞—á–µ ‚Äî –∏–∑ –±–æ–∫–æ–≤–æ–π —Å—Ç–æ—Ä–æ–Ω—ã –ø–æ –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏—é –∫ B –Ω–∞ –≤—ã—Å–æ—Ç–µ —Ü–µ–Ω—Ç—Ä–∞: –≤–ø—Ä–∞–≤–æ `start = Offset(a.left + a.size, aCenter.dy)`, –≤–ª–µ–≤–æ `start = Offset(a.left, aCenter.dy)`.
  2) –ö–æ–Ω–µ—á–Ω–∞—è —Ç–æ—á–∫–∞ B ‚Äî –≤—Å–µ–≥–¥–∞ ¬´—Å–Ω–∏–∑—É –ø–æ —Ü–µ–Ω—Ç—Ä—É¬ª: `end = Offset(bCenter.dx, b.squareTop + b.size)`.
  3) –í painter (`_GridPathPainter`) —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å ¬´–º–∞–Ω—Ö—ç—Ç—Ç–µ–Ω¬ª —Å –æ–¥–Ω–∏–º —Å–∫—Ä—É–≥–ª–µ–Ω–∏–µ–º, –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `r = kCornerRadius`.
- –ö—Ä–∏—Ç–µ—Ä–∏–∏ –ø—Ä–∏—ë–º–∫–∏: –ª–∏–Ω–∏–∏ –≤–∏–∑—É–∞–ª—å–Ω–æ –≤—ã—Ö–æ–¥—è—Ç —Å—Ç—Ä–æ–≥–æ –ø–æ —Ü–µ–Ω—Ç—Ä—É —Å—Ç–æ—Ä–æ–Ω—ã –∫–≤–∞–¥—Ä–∞—Ç–∞ —É—Ä–æ–≤–Ω—è –∏ –¥–æ—Ö–æ–¥—è—Ç –¥–æ –Ω–∏–∂–Ω–µ–π –≥—Ä–∞–Ω–∏ –∫–≤–∞–¥—Ä–∞—Ç–æ–≤ —á–µ–∫–ø–æ–∏–Ω—Ç–æ–≤/–∫–µ–π—Å–æ–≤; –ø—Ä–æ–±–ª–µ–º–∞ ¬´–ª–∏–Ω–∏–∏ –Ω–µ –¥–æ—Ö–æ–¥—è—Ç –¥–æ –∫–≤–∞–¥—Ä–∞—Ç–∞¬ª —É—Å—Ç—Ä–∞–Ω–µ–Ω–∞.

### –ó–∞–¥–∞—á–∞ 36.15: –í—ã—Ä–∞–≤–Ω–∏–≤–∞–Ω–∏–µ —Ç–µ–∫—Å—Ç–∞ –ª–µ–π–±–ª–æ–≤ –ø–æ –∫–æ–ª–æ–Ω–∫–µ
- –§–∞–π–ª—ã: `lib/screens/biz_tower_screen.dart`.
- –ß—Ç–æ —Å–¥–µ–ª–∞—Ç—å:
  1) –ü–µ—Ä–µ–¥–∞–≤–∞—Ç—å `textAlign` –∏–∑ —Ñ–∞–∫—Ç–∏—á–µ—Å–∫–æ–π –∫–æ–ª–æ–Ω–∫–∏ —É–∑–ª–∞: `col == 0 ‚Üí TextAlign.left`, `col == 1 ‚Üí TextAlign.center`, `col == 2 ‚Üí TextAlign.right`.
  2) –ù–µ –≤—ã—á–∏—Å–ª—è—Ç—å –≤—ã—Ä–∞–≤–Ω–∏–≤–∞–Ω–∏–µ –ª–µ–π–±–ª–∞ –Ω–∞ –æ—Å–Ω–æ–≤–µ –Ω–æ–º–µ—Ä–∞ —É—Ä–æ–≤–Ω—è; `_alignmentForLevel` –æ—Å—Ç–∞–≤–∏—Ç—å —Ç–æ–ª—å–∫–æ –¥–ª—è –≤–∏–∑—É–∞–ª—å–Ω—ã—Ö —ç—Ñ—Ñ–µ–∫—Ç–æ–≤ (–µ—Å–ª–∏ —Ç—Ä–µ–±—É–µ—Ç—Å—è), –Ω–æ –Ω–µ –¥–ª—è —Ç–µ–∫—Å—Ç–∞ –Ω–∞–∑–≤–∞–Ω–∏–π.
- –ö—Ä–∏—Ç–µ—Ä–∏–∏ –ø—Ä–∏—ë–º–∫–∏: –ø–æ–¥–ø–∏—Å–∏ —Å—Ç–∞–±–∏–ª—å–Ω–æ ¬´–ø—Ä–∏–≤—è–∑–∞–Ω—ã¬ª –∫ –ø–æ–ª–æ–∂–µ–Ω–∏—é –∫–≤–∞–¥—Ä–∞—Ç–∞ (–ª–µ–≤–∞—è/—Ü–µ–Ω—Ç—Ä–∞–ª—å–Ω–∞—è/–ø—Ä–∞–≤–∞—è –∫–æ–ª–æ–Ω–∫–∞), –Ω–µ ¬´—É–µ–∑–∂–∞—é—Ç¬ª –ø—Ä–∏ –≤—Å—Ç–∞–≤–∫–µ —á–µ–∫–ø–æ–∏–Ω—Ç–æ–≤/–∫–µ–π—Å–æ–≤.

### –ó–∞–¥–∞—á–∞ 36.16: –ò—Å–∫–ª—é—á–∏—Ç—å –Ω–∞—Å–ª–æ–µ–Ω–∏–µ ¬´–ö–µ–π—Å 2¬ª –Ω–∞ ¬´–£—Ä–æ–≤–µ–Ω—å 7¬ª
- –§–∞–π–ª—ã: `lib/screens/biz_tower_screen.dart`.
- –ß—Ç–æ —Å–¥–µ–ª–∞—Ç—å:
  1) –£–≤–µ–ª–∏—á–∏—Ç—å –±–∞–∑–æ–≤—É—é –≤—ã—Å–æ—Ç—É —Å—Ç—Ä–æ–∫–∏ `kRowHeight` –¥–æ 128.0 (–∏–ª–∏ 132.0, –µ—Å–ª–∏ –ø–æ—Ç—Ä–µ–±—É–µ—Ç—Å—è –ø—Ä–∏ –≤—ë—Ä—Å—Ç–∫–µ –¥–≤—É—Ö—Å—Ç—Ä–æ—á–Ω—ã—Ö –ª–µ–π–±–ª–æ–≤).
  2) –î–ª—è checkpoint/mini_case –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ç–µ –∂–µ —Ä–∞—Å—á—ë—Ç—ã (`widgetTop`, `squareTop`, `size`) ‚Äî –±–µ–∑ —Ä—É—á–Ω—ã—Ö —Å–º–µ—â–µ–Ω–∏–π –∏ ¬´–º–∞–≥–∏—á–µ—Å–∫–∏—Ö¬ª —á–∏—Å–µ–ª.
  3) –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ: –¥–ª—è —É–∑–∫–∏—Ö —ç–∫—Ä–∞–Ω–æ–≤ (<420 px) –¥–æ–±–∞–≤–∏—Ç—å `verticalSpacing` (+8 –∫ `kRowHeight`) –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç `constraints.maxWidth`.
- –ö—Ä–∏—Ç–µ—Ä–∏–∏ –ø—Ä–∏—ë–º–∫–∏: ¬´–ö–µ–π—Å 2¬ª –Ω–µ –ø–µ—Ä–µ–∫—Ä—ã–≤–∞–µ—Ç ¬´–£—Ä–æ–≤–µ–Ω—å 7¬ª –Ω–∏ –Ω–∞ –æ–¥–Ω–æ–π –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º–æ–π —à–∏—Ä–∏–Ω–µ; RenderFlex overflow –æ—Ç—Å—É—Ç—Å—Ç–≤—É—é—Ç.

### –ó–∞–¥–∞—á–∞ 36.17: –ê–≤—Ç–æ—Å–∫—Ä–æ–ª–ª ‚Äî –Ω–∞–¥—ë–∂–Ω—ã–π ensureVisible –∏ —á–∏—Å—Ç–∫–∞ –º—ë—Ä—Ç–≤–æ–≥–æ –∫–æ–¥–∞
- –§–∞–π–ª—ã: `lib/screens/biz_tower_screen.dart`.
- –ß—Ç–æ —Å–¥–µ–ª–∞—Ç—å:
  1) –í `_scrollToLevelNumber(...)` –ø–µ—Ä–≤–∏—á–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `Scrollable.ensureVisible(_nodeKeys[level].currentContext, alignment: 0.3, ...)`.
  2) –£–¥–∞–ª–∏—Ç—å –Ω–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ `_recomputeSegments()`/`_scheduleRecompute()` –∏ –∫–∞—Ä—Ç—É `_levelCenterY`, –µ—Å–ª–∏ –ø–æ—Å–ª–µ –ø—Ä–∞–≤–æ–∫ –æ–Ω–∏ –¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ –Ω–µ —Ç—Ä–µ–±—É—é—Ç—Å—è.
- –ö—Ä–∏—Ç–µ—Ä–∏–∏ –ø—Ä–∏—ë–º–∫–∏: –∞–≤—Ç–æ—Å–∫—Ä–æ–ª–ª –ø–æ `scrollTo` –∏ –ø–æ FAB —Å—Ç–∞–±–∏–ª—å–Ω–æ –ø–æ–ø–∞–¥–∞–µ—Ç –∫ –Ω—É–∂–Ω–æ–º—É —É–∑–ª—É –±–µ–∑ ¬´–¥—ë—Ä–≥–∞–Ω–∏–π¬ª; –∫–æ–¥ —É–ø—Ä–æ—â—ë–Ω, –ø–æ–±–æ—á–Ω—ã—Ö —ç—Ñ—Ñ–µ–∫—Ç–æ–≤ –Ω–µ—Ç.

### –ó–∞–¥–∞—á–∞ 36.18: –î–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å –∏ UX‚Äë–º–µ–ª–æ—á–∏
- –§–∞–π–ª—ã: `lib/screens/biz_tower_screen.dart`.
- –ß—Ç–æ —Å–¥–µ–ª–∞—Ç—å:
  1) –î–æ–±–∞–≤–∏—Ç—å `Semantics(label: '...', button: true)` –¥–ª—è –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã—Ö —É–∑–ª–æ–≤ (`level`, `mini_case`, `goal_checkpoint`).
  2) –ó–∞–º–µ–Ω–∏—Ç—å –∏–∫–æ–Ω–∫—É ¬´–∞–∫—Ç–∏–≤–Ω—ã–π, –Ω–µ –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω–Ω—ã–π¬ª c `Icons.stop` –Ω–∞ –Ω–µ–π—Ç—Ä–∞–ª—å–Ω—É—é (–Ω–∞–ø—Ä–∏–º–µ—Ä, `Icons.circle`), —á—Ç–æ–±—ã –Ω–µ —Å–æ–∑–¥–∞–≤–∞—Ç—å –æ—â—É—â–µ–Ω–∏–µ ¬´–°—Ç–æ–ø¬ª.
- –ö—Ä–∏—Ç–µ—Ä–∏–∏ –ø—Ä–∏—ë–º–∫–∏: —ç–ª–µ–º–µ–Ω—Ç—ã –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –æ–∑–≤—É—á–∏–≤–∞—é—Ç—Å—è —ç–∫—Ä–∞–Ω–Ω—ã–º–∏ –¥–∏–∫—Ç–æ—Ä–∞–º–∏; –≤–∏–∑—É–∞–ª—å–Ω–æ –∏–∫–æ–Ω–∫–∞ –Ω–µ –≤–≤–æ–¥–∏—Ç –≤ –∑–∞–±–ª—É–∂–¥–µ–Ω–∏–µ.

### –ó–∞–¥–∞—á–∞ 36.19: –ù–∞–±–ª—é–¥–∞–µ–º–æ—Å—Ç—å ‚Äî –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ breadcrumbs
- –§–∞–π–ª—ã: `lib/screens/biz_tower_screen.dart`.
- –ß—Ç–æ —Å–¥–µ–ª–∞—Ç—å:
  1) –î–æ–±–∞–≤–∏—Ç—å breadcrumbs `tower_retry` (–Ω–∞–∂–∞—Ç–∏–µ –Ω–∞ ¬´–ü–æ–≤—Ç–æ—Ä–∏—Ç—å¬ª –≤ error‚Äë—Å–æ—Å—Ç–æ—è–Ω–∏–∏) –∏ `tower_autoscroll_done` (—É—Å–ø–µ—à–Ω–æ–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏–µ –∞–≤—Ç–æ—Å–∫—Ä–æ–ª–ª–∞).
- –ö—Ä–∏—Ç–µ—Ä–∏–∏ –ø—Ä–∏—ë–º–∫–∏: —Å–æ–±—ã—Ç–∏—è –≤–∏–¥–Ω—ã –≤ Sentry; –Ω–æ–≤—ã—Ö –∫—Ä–∏—Ç–∏—á–Ω—ã—Ö –æ—à–∏–±–æ–∫ –Ω–µ –ø–æ—è–≤–ª—è–µ—Ç—Å—è.

### –ó–∞–¥–∞—á–∞ 36.20: –¢–µ—Å—Ç—ã —Ü–µ–ª–æ—Å—Ç–Ω–æ—Å—Ç–∏ –±–∞—à–Ω–∏ (–≤–∏–∑—É–∞–ª—å–Ω–∞—è –ª–æ–≥–∏–∫–∞ –∏ —Å–∫—Ä–æ–ª–ª)
- –§–∞–π–ª—ã: `test/screens/tower_map_screen_test.dart` (—Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ).
- –ß—Ç–æ —Å–¥–µ–ª–∞—Ç—å:
  1) Smoke‚Äë–ø—Ä–æ–≤–µ—Ä–∫–∞, —á—Ç–æ –ø—Ä–∏ `scrollTo` –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è –∞–≤—Ç–æ—Å–∫—Ä–æ–ª–ª –±–µ–∑ –∏—Å–∫–ª—é—á–µ–Ω–∏–π –∏ —É–∑–µ–ª –ø–æ–ø–∞–¥–∞–µ—Ç –≤ –≤–∏–¥–∏–º—É—é –æ–±–ª–∞—Å—Ç—å (–ø—Ä–æ–≤–µ—Ä–∫–∞ —á–µ—Ä–µ–∑ `tester.ensureVisible`/–æ—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –æ—à–∏–±–æ–∫).
  2) –ü—Ä–æ–≤–µ—Ä–∫–∞ –æ—Ç—Å—É—Ç—Å—Ç–≤–∏—è –Ω–∞–ª–æ–∂–µ–Ω–∏–π –¥–ª—è –ø–∞—Ä—ã ¬´–ø–æ—Å–ª–µ —É—Ä–æ–≤–Ω—è 6¬ª ‚Üí ¬´–ö–µ–π—Å 2¬ª ‚Üí ¬´–£—Ä–æ–≤–µ–Ω—å 7¬ª –Ω–∞ –¥–≤—É—Ö –±—Ä–µ–π–∫–ø–æ–∏–Ω—Ç–∞—Ö (—É–∑–∫–∏–π/—à–∏—Ä–æ–∫–∏–π) ‚Äî smoke (–±–µ–∑ –ø–∏–∫—Å–µ–ª—å‚Äë–ø–µ—Ä—Ñ–µ–∫—Ç–∞).
  3) –ü—Ä–æ–≤–µ—Ä–∫–∞, —á—Ç–æ —ç–ª–µ–º–µ–Ω—Ç—ã –Ω–µ –≤—ã–±—Ä–∞—Å—ã–≤–∞—é—Ç RenderFlex overflow –∏ —á—Ç–æ error‚Äëretry –ø—Ä–∏–≤–æ–¥–∏—Ç –∫ –∏–Ω–≤–∞–ª–∏–¥–∞—Ü–∏–∏ –ø—Ä–æ–≤–∞–π–¥–µ—Ä–∞ –±–µ–∑ –ø–∞–¥–µ–Ω–∏—è.
- –ö—Ä–∏—Ç–µ—Ä–∏–∏ –ø—Ä–∏—ë–º–∫–∏: —Ç–µ—Å—Ç—ã –ø—Ä–æ—Ö–æ–¥—è—Ç –ª–æ–∫–∞–ª—å–Ω–æ –∏ –≤ CI; —Ä–µ–≥—Ä–µ—Å—Å–æ–≤ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö —Ç–µ—Å—Ç–æ–≤ –Ω–µ—Ç; –≥–µ–æ–º–µ—Ç—Ä–∏—á–µ—Å–∫–∏–µ –ø—Ä–æ–±–ª–µ–º—ã, –æ–±–æ–∑–Ω–∞—á–µ–Ω–Ω—ã–µ –≤ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏—è—Ö, –æ—Ç—Å—É—Ç—Å—Ç–≤—É—é—Ç.
