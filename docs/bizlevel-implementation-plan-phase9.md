# –≠—Ç–∞–ø 34: –ë–∞—à–Ω—è –ë–∏–∑–õ–µ–≤–µ–ª

–¶–µ–ª—å —ç—Ç–∞–ø–∞: –ø—Ä–µ–≤—Ä–∞—Ç–∏—Ç—å —ç–∫—Ä–∞–Ω ¬´–ë–∞—à–Ω—è¬ª –≤ –≤–µ—Ä—Ç–∏–∫–∞–ª—å–Ω—É—é –∫–∞—Ä—Ç—É –ø—Ä–æ–≥—Ä–µ—Å—Å–∞ ¬´—Å–Ω–∏–∑—É –≤–≤–µ—Ä—Ö¬ª —Å —É—Ä–æ–≤–Ω—è–º–∏‚Äë—É–∑–ª–∞–º–∏ (—Å–∏–Ω–∏–µ –∫–≤–∞–¥—Ä–∞—Ç—ã), –¥–æ—Ä–æ–≥–∞–º–∏ –º–µ–∂–¥—É –Ω–∏–º–∏ –∏ —á–µ–∫–ø–æ–∏–Ω—Ç–∞–º–∏‚Äë–∑–∞–≥–ª—É—à–∫–∞–º–∏. –ò—Å–ø–æ–ª—å–∑—É–µ–º –ø—Ä–∏–Ω—Ü–∏–ø –º–∏–Ω–∏–º–∞–ª—å–Ω—ã—Ö –ø—Ä–∞–≤–æ–∫: –ø–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ –ø—Ä–æ–≤–∞–π–¥–µ—Ä—ã/–º–æ–¥–µ–ª–∏ –∏ `LevelCard`, –±–µ–∑ –º–∏–≥—Ä–∞—Ü–∏–π –ë–î. –ú–æ–Ω–µ—Ç–∏–∑–∞—Ü–∏—è –æ—Å—Ç–∞—ë—Ç—Å—è –ø—Ä–µ–∂–Ω–µ–π (—É—Ä–æ–≤–Ω–∏ 4‚Äì10 ‚Äî Premium).

–û–±—â–∏–µ –ø—Ä–∞–≤–∏–ª–∞ UX/–ª–æ–≥–∏–∫–∏, –∫–æ—Ç–æ—Ä—ã–µ –Ω—É–∂–Ω–æ —Å–æ–±–ª—é—Å—Ç–∏ –≤ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏:
- –£—Ä–æ–≤–Ω–∏ —Ä–∞—Å–ø–æ–ª–æ–∂–µ–Ω—ã –ø–æ –≤–æ–∑—Ä–∞—Å—Ç–∞–Ω–∏—é ¬´—Å–Ω–∏–∑—É –≤–≤–µ—Ä—Ö¬ª.
- –ü–µ—Ä–≤—ã–π –≤—Ö–æ–¥: —Å–Ω–∏–∑—É –≤–∏–¥–µ–Ω ¬´–£—Ä–æ–≤–µ–Ω—å 0 ‚Äî –ü–µ—Ä–≤—ã–π —à–∞–≥¬ª –∫–∞–∫ –∞–∫—Ç—É–∞–ª—å–Ω—ã–π; –≤—ã—à–µ ‚Äî —Ä–∞–∑–¥–µ–ª–∏—Ç–µ–ª—å ¬´–≠—Ç–∞–∂ 1¬ª. –ü–æ—Å–ª–µ –ø—Ä–æ—Ö–æ–∂–¥–µ–Ω–∏—è –æ–Ω–±–æ—Ä–¥–∏–Ω–≥–∞ ¬´–≠—Ç–∞–∂ 1¬ª –æ—Ç–∫—Ä—ã—Ç.
- –≠—Ç–∞–∂ 1 –æ—Ç–∫—Ä—ã—Ç –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é; —ç—Ç–∞–∂–∏ 2+ ‚Äî —Å–æ—Å—Ç–æ—è–Ω–∏–µ ¬´–°–∫–æ—Ä–æ¬ª (–∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω—ã), –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è –∫–∞–∫ —Ç–∏–∑–µ—Ä—ã.
- –£–∑–ª—ã —É—Ä–æ–≤–Ω–µ–π ‚Äî —Å–∏–Ω–∏–µ –∫–≤–∞–¥—Ä–∞—Ç—ã —Å –ª—ë–≥–∫–æ–π —Ç–µ–Ω—å—é –∏ –∏–∫–æ–Ω–∫–∞–º–∏ —Å—Ç–∞—Ç—É—Å–∞: ‚úì (–ø—Ä–æ–π–¥–µ–Ω), ‚òÖ (–ø—Ä–µ–º–∏—É–º), üîí (–∑–∞–∫—Ä—ã—Ç). –ê–∫—Ç—É–∞–ª—å–Ω—ã–π —É—Ä–æ–≤–µ–Ω—å ‚Äî –≤ –≤–∏–¥–µ ¬´—Ä–∞—Å–∫—Ä—ã—Ç–æ–π¬ª `LevelCard` (–∫–∞—Ä—Ç–∏–Ω–∫–∞, –Ω–æ–º–µ—Ä, –Ω–∞–∑–≤–∞–Ω–∏–µ).
- –ß–µ–∫–ø–æ–∏–Ω—Ç—ã‚Äë–∑–∞–≥–ª—É—à–∫–∏ —Å—Ç–æ—è—Ç –ø–æ—Å–ª–µ —É—Ä–æ–≤–Ω–µ–π: 2, 3, 5, 7, 9, 10. –£ –Ω–∏—Ö –æ–¥–Ω–∞ –∫–Ω–æ–ø–∫–∞ ¬´–ó–∞–≤–µ—Ä—à–∏—Ç—å¬ª, –ø–æ –Ω–∞–∂–∞—Ç–∏—é —Ä–∞–∑–±–ª–æ–∫–∏—Ä—É–µ—Ç—Å—è —Å–ª–µ–¥—É—é—â–∏–π –ø–æ—Å–ª–µ —á–µ–∫–ø–æ–∏–Ω—Ç–∞ —É—Ä–æ–≤–µ–Ω—å. –ü–æ–∑–∂–µ —á–µ–∫–ø–æ–∏–Ω—Ç—ã –±—É–¥—É—Ç –∑–∞–º–µ–Ω–µ–Ω—ã –Ω–∞ —á–∞—Ç‚Äë–∫–µ–π—Å/–≤–µ—Ä—Å–∏–∏ —Ü–µ–ª–∏.

### –ó–∞–¥–∞—á–∞ 34.1: –ö–∞—Ä–∫–∞—Å –≤–µ—Ä—Ç–∏–∫–∞–ª—å–Ω–æ–π –∫–∞—Ä—Ç—ã –±–∞—à–Ω–∏ (UI –∏ –ø–æ—Ä—è–¥–æ–∫ —Å–Ω–∏–∑—É –≤–≤–µ—Ä—Ö)
- –§–∞–π–ª—ã: `lib/screens/biz_tower_screen.dart`, `lib/widgets/level_card.dart`, (–æ–ø—Ü.) `lib/theme/color.dart`.
- –ß—Ç–æ —Å–¥–µ–ª–∞—Ç—å:
  1) –ü–µ—Ä–µ–ø–∏—Å–∞—Ç—å –∫–æ–Ω—Ç–µ–Ω—Ç `/tower` –Ω–∞ –≤–µ—Ä—Ç–∏–∫–∞–ª—å–Ω—É—é –∫–∞—Ä—Ç—É: `CustomScrollView` + `SliverAppBar(pinned: true)`. –°–µ–∫—Ü–∏–∏: ¬´–†–µ—Å–µ–ø—à–Ω (–£—Ä–æ–≤–µ–Ω—å 0)¬ª, —Ä–∞–∑–¥–µ–ª–∏—Ç–µ–ª—å ¬´–≠—Ç–∞–∂ 1¬ª, –¥–∞–ª–µ–µ —É–∑–ª—ã —É—Ä–æ–≤–Ω–µ–π/—á–µ–∫–ø–æ–∏–Ω—Ç–æ–≤.
  2) –£–∑–ª—ã —É—Ä–æ–≤–Ω—è: –∫–æ–º–ø–∞–∫—Ç–Ω—ã–π –∫–≤–∞–¥—Ä–∞—Ç 72‚Äì96 px, —Ñ–æ–Ω —Å–∏–Ω–∏–π, –ª—ë–≥–∫–∞—è —Ç–µ–Ω—å; –∏–∫–æ–Ω–∫–∏ —Å—Ç–∞—Ç—É—Å–∞ –ø–æ —Ü–µ–Ω—Ç—Ä—É. –¢–µ–∫—É—â–∏–π —É—Ä–æ–≤–µ–Ω—å –æ—Ç–æ–±—Ä–∞–∂–∞—Ç—å ¬´—Ä–∞—Å–∫—Ä—ã—Ç–æ–π¬ª –∫–∞—Ä—Ç–æ—á–∫–æ–π (–ø–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `LevelCard`).
  3) –î–æ–±–∞–≤–∏—Ç—å ¬´—Ä–∞–∑–¥–µ–ª–∏—Ç–µ–ª–∏ —ç—Ç–∞–∂–µ–π¬ª (—ç—Ç–∞–∂–∏ 1..4). –≠—Ç–∞–∂ 1 ‚Äî –∞–∫—Ç–∏–≤–µ–Ω, —ç—Ç–∞–∂–∏ 2+ ‚Äî ¬´–°–∫–æ—Ä–æ¬ª (–∑–∞—Ç–µ–º–Ω—ë–Ω–Ω—ã–µ –ø–ª–∞—à–∫–∏ —Å –∑–∞–º–∫–æ–º –∏ CTA ¬´–ü—Ä–µ–º–∏—É–º¬ª –ø—Ä–∏ —Ç–∞–ø–µ).
  4) –ü–æ—Ä—è–¥–æ–∫ —ç–ª–µ–º–µ–Ω—Ç–æ–≤ ‚Äî —Å–Ω–∏–∑—É –≤–≤–µ—Ä—Ö (—É—Ä–æ–≤–Ω–∏ –≤–æ–∑—Ä–∞—Å—Ç–∞—é—Ç). –ü—Ä–∏ –æ—Ç–∫—Ä—ã—Ç–∏–∏ —ç–∫—Ä–∞–Ω–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–∫—Ä–æ–ª–ª–∏—Ç—å –∫ —Ç–µ–∫—É—â–µ–º—É —É–∑–ª—É. –ü–æ–∫–∞–∑–∞—Ç—å FAB ¬´–ü—Ä–æ–¥–æ–ª–∂–∏—Ç—å¬ª, –µ—Å–ª–∏ —Ç–µ–∫—É—â–∏–π —É–∑–µ–ª –≤–Ω–µ –≤–∏–¥–∏–º–æ—Å—Ç–∏ (—Å–∫—Ä–æ–ª–ª–∏—Ç –∫ –Ω–µ–º—É).
- –ö—Ä–∏—Ç–µ—Ä–∏–∏ –ø—Ä–∏—ë–º–∫–∏: –ø—Ä–∏ –ø–µ—Ä–≤–æ–º –≤—Ö–æ–¥–µ —Å–Ω–∏–∑—É –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è ¬´–£—Ä–æ–≤–µ–Ω—å 0¬ª –∫–∞–∫ —Ç–µ–∫—É—â–∏–π; –ø–æ—Å–ª–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –æ–Ω–±–æ—Ä–¥–∏–Ω–≥–∞ (completeLevel(0)) –ø—Ä–∏ –ø–æ–≤—Ç–æ—Ä–Ω–æ–º –≤—Ö–æ–¥–µ ¬´–≠—Ç–∞–∂ 1¬ª –æ—Ç–∫—Ä—ã—Ç –∏ —Ç–µ–∫—É—â–∏–π —É—Ä–æ–≤–µ–Ω—å ‚Äî 1.

### –ó–∞–¥–∞—á–∞ 34.2: –ü—Ä–æ–≤–∞–π–¥–µ—Ä —É–∑–ª–æ–≤ –±–∞—à–Ω–∏ –∏ —Å–µ–ª–µ–∫—Ç–æ—Ä—ã —Å–æ—Å—Ç–æ—è–Ω–∏–π (–±–µ–∑ –º–∏–≥—Ä–∞—Ü–∏–π)
- –§–∞–π–ª—ã: `lib/providers/levels_provider.dart` (—Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ —Å–µ–ª–µ–∫—Ç–æ—Ä–æ–≤), (–æ–ø—Ü.) `lib/providers/checkpoints_provider.dart` (–Ω–æ–≤—ã–π), `lib/repositories/levels_repository.dart` (–±–µ–∑ —Å–µ—Ç–µ–≤—ã—Ö –∏–∑–º–µ–Ω–µ–Ω–∏–π).
- –ß—Ç–æ —Å–¥–µ–ª–∞—Ç—å:
  1) –°–æ–∑–¥–∞—Ç—å —Å–µ–ª–µ–∫—Ç–æ—Ä `towerNodesProvider`, –∫–æ—Ç–æ—Ä—ã–π —Ñ–æ—Ä–º–∏—Ä—É–µ—Ç –ª–∏–Ω–µ–π–∫—É —É–∑–ª–æ–≤ –¥–ª—è ¬´–≠—Ç–∞–∂–∞ 1¬ª: level(0) ‚Üí divider(Floor 1) ‚Üí level(1) ‚Üí checkpoint(–ø–æ—Å–ª–µ 2) ‚Üí level(3) ‚Üí checkpoint(–ø–æ—Å–ª–µ 3) ‚Üí ‚Ä¶ –ø–æ –ø—Ä–∞–≤–∏–ª–∞–º —ç—Ç–∞–ø–∞. –£–∑–µ–ª –Ω–µ—Å—ë—Ç —Ç–∏–ø: `level | checkpoint | divider`, id, —Å–≤—è–∑–∏ (prev/next), —Å—Ç–∞—Ç—É—Å—ã.
  2) –í—ã—á–∏—Å–ª—è—Ç—å `isCompleted`, `isCurrent`, `requiresPremium`, `isLockedByPrev` (—É—Ä–æ–≤–µ–Ω—å –∑–∞–∫—Ä—ã—Ç, –ø–æ–∫–∞ –Ω–µ –ø—Ä–æ–π–¥–µ–Ω –ø—Ä–µ–¥—ã–¥—É—â–∏–π —É–∑–µ–ª/—á–µ–∫–ø–æ–∏–Ω—Ç).
  3) –≠—Ç–∞–∂–∏ 2‚Äì4 –ø–æ–∫–∞ –Ω–µ –≤–∫–ª—é—á–∞—Ç—å –≤ –ª–∏–Ω–µ–π–∫—É —É–∑–ª–æ–≤ (—Ç–æ–ª—å–∫–æ –≤–∏–∑—É–∞–ª—å–Ω—ã–µ —Ä–∞–∑–¥–µ–ª–∏—Ç–µ–ª–∏‚Äë—Ç–∏–∑–µ—Ä—ã).
- –ö—Ä–∏—Ç–µ—Ä–∏–∏ –ø—Ä–∏—ë–º–∫–∏: –ø—Ä–æ–≤–∞–π–¥–µ—Ä –æ—Ç–¥–∞—ë—Ç –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å —É–∑–ª–æ–≤ –¥–ª—è ¬´–≠—Ç–∞–∂–∞ 1¬ª –≤ –ø—Ä–∞–≤–∏–ª—å–Ω–æ–º –ø–æ—Ä—è–¥–∫–µ; —Å—Ç–∞—Ç—É—Å—ã —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—Ç —Ç–µ–∫—É—â–µ–º—É –ø—Ä–æ–≥—Ä–µ—Å—Å—É/–ø–æ–¥–ø–∏—Å–∫–µ.

### –ó–∞–¥–∞—á–∞ 34.3: –ß–µ–∫–ø–æ–∏–Ω—Ç—ã‚Äë–∑–∞–≥–ª—É—à–∫–∏ –∏ –ª–æ–∫–∞–ª—å–Ω–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ
- –§–∞–π–ª—ã: `lib/widgets/checkpoint_tile.dart` (–Ω–æ–≤—ã–π), `lib/providers/checkpoints_provider.dart` (–Ω–æ–≤—ã–π, –Ω–∞ Hive), (–æ–ø—Ü.) `lib/services/*` ‚Äî –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π.
- –ß—Ç–æ —Å–¥–µ–ª–∞—Ç—å:
  1) –í—Å—Ç–∞–≤–∏—Ç—å `CheckpointTile` –ø–æ—Å–ª–µ —É—Ä–æ–≤–Ω–µ–π: 2, 3, 5, 7, 9, 10. –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ: –∫–æ–º–ø–∞–∫—Ç–Ω–∞—è –∫–∞—Ä—Ç–æ—á–∫–∞ —Å –∏–∫–æ–Ω–∫–æ–π/–ø–æ–¥–ø–∏—Å—å—é –∏ –∫–Ω–æ–ø–∫–æ–π ¬´–ó–∞–≤–µ—Ä—à–∏—Ç—å¬ª.
  2) –°–æ—Å—Ç–æ—è–Ω–∏–µ —á–µ–∫–ø–æ–∏–Ω—Ç–æ–≤ —Ö—Ä–∞–Ω–∏—Ç—å –ª–æ–∫–∞–ª—å–Ω–æ (Hive box `tower_checkpoints`): –∫–ª—é—á `checkpoint_after_<levelNumber> = true/false`. –ù–∏–∫–∞–∫–∏—Ö –∏–∑–º–µ–Ω–µ–Ω–∏–π –≤ –ë–î Supabase (MVP).
  3) –ü—Ä–∏ –Ω–∞–∂–∞—Ç–∏–∏ ¬´–ó–∞–≤–µ—Ä—à–∏—Ç—å¬ª ‚Äî –∑–∞–ø–∏—Å–∞—Ç—å —Ñ–ª–∞–≥, –∏–Ω–≤–∞–ª–∏–¥–∞—Ü–∏—Ä–æ–≤–∞—Ç—å `towerNodesProvider` –∏ —Ä–∞–∑–±–ª–æ–∫–∏—Ä–æ–≤–∞—Ç—å —Å–ª–µ–¥—É—é—â–∏–π —É—Ä–æ–≤–µ–Ω—å. –ü–æ–∫–∞–∑–∞—Ç—å SnackBar ¬´–ß–µ–∫–ø–æ–∏–Ω—Ç –ø—Ä–æ–π–¥–µ–Ω¬ª.
- –ö—Ä–∏—Ç–µ—Ä–∏–∏ –ø—Ä–∏—ë–º–∫–∏: –ø–æ—Å–ª–µ ¬´–ó–∞–≤–µ—Ä—à–∏—Ç—å¬ª —Å–æ—Å–µ–¥–Ω–∏–π —Å–ª–µ–¥—É—é—â–∏–π —É—Ä–æ–≤–µ–Ω—å —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è –∫–ª–∏–∫–∞–±–µ–ª—å–Ω—ã–º; —Å–æ—Å—Ç–æ—è–Ω–∏–µ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –º–µ–∂–¥—É —Å–µ—Å—Å–∏—è–º–∏.

### –ó–∞–¥–∞—á–∞ 34.4: –ù–∞–≤–∏–≥–∞—Ü–∏—è –∏ –≥–µ–π—Ç–∏–Ω–≥
- –§–∞–π–ª—ã: `lib/screens/biz_tower_screen.dart`, `lib/routing/app_router.dart` (–±–µ–∑ —Å–º–µ–Ω—ã –º–∞—Ä—à—Ä—É—Ç–æ–≤).
- –ß—Ç–æ —Å–¥–µ–ª–∞—Ç—å:
  1) –¢–∞–ø –ø–æ —É–∑–ª—É —É—Ä–æ–≤–Ω—è: –µ—Å–ª–∏ `requiresPremium` –∏ –ø–æ–¥–ø–∏—Å–∫–∏ –Ω–µ—Ç ‚Äî –ø–µ—Ä–µ—Ö–æ–¥ –Ω–∞ `/premium`; –µ—Å–ª–∏ `isLockedByPrev` ‚Äî SnackBar ¬´–ó–∞–≤–µ—Ä—à–∏—Ç–µ –ø—Ä–µ–¥—ã–¥—É—â–∏–π —ç—Ç–∞–∂¬ª; –∏–Ω–∞—á–µ `context.go('/levels/<id>')`.
  2) –¢–∞–ø –ø–æ —Ç–∏–∑–µ—Ä–∞–º —ç—Ç–∞–∂–µ–π 2‚Äì4 ‚Äî SnackBar ¬´–°–∫–æ—Ä–æ¬ª.
  3) FAB ¬´–ü—Ä–æ–¥–æ–ª–∂–∏—Ç—å¬ª –∏—Å–ø–æ–ª—å–∑—É–µ—Ç `nextLevelToContinueProvider` –¥–ª—è –≤—ã—á–∏—Å–ª–µ–Ω–∏—è —Ü–µ–ª–µ–≤–æ–≥–æ —É–∑–ª–∞ –∏ —Å–∫—Ä–æ–ª–ª–∏—Ç –∫ –Ω–µ–º—É.
- –ö—Ä–∏—Ç–µ—Ä–∏–∏ –ø—Ä–∏—ë–º–∫–∏: –Ω–∞–≤–∏–≥–∞—Ü–∏—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–∞, —Å–æ–æ–±—â–µ–Ω–∏—è –æ–± –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è—Ö –ø–æ–∫–∞–∑–∞–Ω—ã –≤ –≤–µ—Ä–Ω—ã—Ö —Å–ª—É—á–∞—è—Ö.

### –ó–∞–¥–∞—á–∞ 34.5: –í–∏–∑—É–∞–ª—å–Ω—ã–µ ¬´–¥–æ—Ä–æ–≥–∏¬ª –º–µ–∂–¥—É —É–∑–ª–∞–º–∏ (–ø–µ—Ä–≤–∞—è –∏—Ç–µ—Ä–∞—Ü–∏—è)
- –§–∞–π–ª—ã: `lib/widgets/tower_path_painter.dart` (–Ω–æ–≤—ã–π), `lib/screens/biz_tower_screen.dart` (–≤—Å—Ç–∞–≤–∫–∞ —Å–ª–æ—è —Å `CustomPaint`).
- –ß—Ç–æ —Å–¥–µ–ª–∞—Ç—å:
  1) –°–æ–µ–¥–∏–Ω–∏—Ç—å —É–∑–ª—ã –ø–ª–∞–≤–Ω—ã–º–∏ –∫—Ä–∏–≤—ã–º–∏ (S‚Äë–æ–±—Ä–∞–∑–Ω—ã–µ —Å–µ–≥–º–µ–Ω—Ç—ã) –≤ –ø—Ä–µ–¥–µ–ª–∞—Ö —Å–µ–∫—Ü–∏–∏ ¬´–≠—Ç–∞–∂ 1¬ª. –¢–æ–ª—â–∏–Ω–∞ 2 px, —Ü–≤–µ—Ç ‚Äî –æ—Å–Ω–æ–≤–Ω–æ–π –±—Ä–µ–Ω–¥–∞, –ø—Ä–æ–∑—Ä–∞—á–Ω–æ—Å—Ç—å 0.85.
  2) –°–æ—Å—Ç–æ—è–Ω–∏—è: –ø—Ä–æ–π–¥–µ–Ω–Ω—ã–π ‚Äî –∑–µ–ª—ë–Ω—ã–π, –∞–∫—Ç–∏–≤–Ω—ã–π ‚Äî –æ—Å–Ω–æ–≤–Ω–æ–π —Ü–≤–µ—Ç, –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω–Ω—ã–π ‚Äî —Å–µ—Ä—ã–π —Å –ø–æ–Ω–∏–∂–µ–Ω–Ω–æ–π –Ω–µ–ø—Ä–æ–∑—Ä–∞—á–Ω–æ—Å—Ç—å—é.
  3) –ê–Ω–∏–º–∞—Ü–∏—é ¬´—Ç–µ—á–µ–Ω–∏—è¬ª –Ω–µ –¥–µ–ª–∞—Ç—å –≤ —ç—Ç–æ–π –∏—Ç–µ—Ä–∞—Ü–∏–∏ (–≤–æ–∑–º–æ–∂–Ω–∞ –≤ –ø–æ—Å–ª–µ–¥—É—é—â–µ–π –ø–æ–¥–∑–∞–¥–∞—á–µ 34.x+).
- –ö—Ä–∏—Ç–µ—Ä–∏–∏ –ø—Ä–∏—ë–º–∫–∏: –ª–∏–Ω–∏–∏ –∞–∫–∫—É—Ä–∞—Ç–Ω–æ —Å–æ–µ–¥–∏–Ω—è—é—Ç —Ü–µ–Ω—Ç—Ä—ã/–∫—Ä–∞—è —É–∑–ª–æ–≤, –±–µ–∑ –ø–µ—Ä–µ–∫—Ä—ã—Ç–∏—è —Ç–µ–∫—Å—Ç–∞/–∫–∞—Ä—Ç–æ—á–µ–∫; –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å —Å—Ç–∞–±–∏–ª—å–Ω–∞—è.

### –ó–∞–¥–∞—á–∞ 34.6: –ü–µ—Ä–≤—ã–π –≤—Ö–æ–¥ –∏ —Ä–∞—Å–∫—Ä—ã—Ç–∏–µ ¬´–≠—Ç–∞–∂ 1¬ª
- –§–∞–π–ª—ã: `lib/screens/biz_tower_screen.dart`, `lib/providers/levels_provider.dart`.
- –ß—Ç–æ —Å–¥–µ–ª–∞—Ç—å:
  1) –ï—Å–ª–∏ `current_level == 0`, –ø–æ–¥—Å–≤–µ—Ç–∏—Ç—å ¬´–£—Ä–æ–≤–µ–Ω—å 0¬ª –∫–∞–∫ —Ç–µ–∫—É—â–∏–π –∏ –æ—Ç—Ä–µ–Ω–¥–µ—Ä–∏—Ç—å –Ω–∞–¥ –Ω–∏–º —Ä–∞–∑–¥–µ–ª–∏—Ç–µ–ª—å ¬´–≠—Ç–∞–∂ 1¬ª (–∑–∞–∫—Ä—ã—Ç –≤–∏–∑—É–∞–ª—å–Ω–æ). –ö–Ω–æ–ø–∫–∞ –Ω–∞ ¬´–£—Ä–æ–≤–µ–Ω—å 0¬ª –≤–µ–¥—ë—Ç –≤ `/levels/0`.
  2) –ü–æ—Å–ª–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è —É—Ä–æ–≤–Ω—è 0 (—á–µ—Ä–µ–∑ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π `completeLevel(0)`), –ø—Ä–∏ –≤–æ–∑–≤—Ä–∞—Ç–µ –Ω–∞ –±–∞—à–Ω—é ¬´–≠—Ç–∞–∂ 1¬ª —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è –æ—Ç–∫—Ä—ã—Ç—ã–º; —Ç–µ–∫—É—â–∏–π —É–∑–µ–ª ‚Äî —É—Ä–æ–≤–µ–Ω—å 1.
- –ö—Ä–∏—Ç–µ—Ä–∏–∏ –ø—Ä–∏—ë–º–∫–∏: —Å—Ü–µ–Ω–∞—Ä–∏–π –ø–µ—Ä–≤–æ–≥–æ –≤—Ö–æ–¥–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç –±–µ–∑ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã—Ö –º–∞–Ω–∏–ø—É–ª—è—Ü–∏–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è.

### –ó–∞–¥–∞—á–∞ 34.7: –ù–∞–±–ª—é–¥–∞–µ–º–æ—Å—Ç—å –∏ —É—Å—Ç–æ–π—á–∏–≤–æ—Å—Ç—å
- –§–∞–π–ª—ã: `lib/screens/biz_tower_screen.dart` (+–∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞—Ü–∏—è), `scripts/sentry_check.sh` (–±–µ–∑ –ø—Ä–∞–≤–æ–∫).
- –ß—Ç–æ —Å–¥–µ–ª–∞—Ç—å:
  1) –î–æ–±–∞–≤–∏—Ç—å breadcrumbs: `tower_opened`, `tower_level_tap_open`, `tower_level_tap_locked`, `tower_checkpoint_completed`.
  2) –í—Å–µ –Ω–∞–≤–∏–≥–∞—Ü–∏–∏/–∑–∞–ø–∏—Å–∏ –≤ Hive –æ–±–µ—Ä–Ω—É—Ç—å –≤ try/catch —Å `Sentry.captureException` –∏ –¥—Ä—É–∂–µ–ª—é–±–Ω—ã–º SnackBar.
- –ö—Ä–∏—Ç–µ—Ä–∏–∏ –ø—Ä–∏—ë–º–∫–∏: –≤ Sentry –Ω–µ—Ç –Ω–æ–≤—ã—Ö –∫—Ä–∏—Ç–∏—á–Ω—ã—Ö –æ—à–∏–±–æ–∫ UI; —Å–æ–±—ã—Ç–∏—è –ø–æ–ø–∞–¥–∞—é—Ç –≤ breadcrumbs.

### –ó–∞–¥–∞—á–∞ 34.8: –¢–µ—Å—Ç—ã
- –§–∞–π–ª—ã: `test/screens/tower_map_screen_test.dart` (–Ω–æ–≤—ã–π), (–æ–ø—Ü.) `test/providers/checkpoints_provider_test.dart`.
- –ß—Ç–æ —Å–¥–µ–ª–∞—Ç—å:
  1) –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ø–æ—Ä—è–¥–æ–∫ —É–∑–ª–æ–≤ —Å–Ω–∏–∑—É –≤–≤–µ—Ä—Ö –∏ –Ω–∞–ª–∏—á–∏–µ —Ä–∞–∑–¥–µ–ª–∏—Ç–µ–ª–µ–π —ç—Ç–∞–∂–µ–π.
  2) –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ –ø—Ä–∏ `current_level=0` —Å–Ω–∏–∑—É –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è ¬´–£—Ä–æ–≤–µ–Ω—å 0¬ª –∫–∞–∫ —Ç–µ–∫—É—â–∏–π.
  3) –ß–µ–∫–ø–æ–∏–Ω—Ç –ø–æ—Å–ª–µ 2‚Äë–≥–æ —É—Ä–æ–≤–Ω—è: –¥–æ –Ω–∞–∂–∞—Ç–∏—è —É—Ä–æ–≤–µ–Ω—å 3 –∑–∞–∫—Ä—ã—Ç, –ø–æ—Å–ª–µ ¬´–ó–∞–≤–µ—Ä—à–∏—Ç—å¬ª ‚Äî –æ—Ç–∫—Ä—ã—Ç.
  4) –¢–∞–ø –ø–æ –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω–Ω–æ–º—É —É—Ä–æ–≤–Ω—é ‚Äî SnackBar; –ø–æ –ø—Ä–µ–º–∏—É–º‚Äë—É—Ä–æ–≤–Ω—é –±–µ–∑ –ø–æ–¥–ø–∏—Å–∫–∏ ‚Äî –ø–µ—Ä–µ—Ö–æ–¥ –Ω–∞ `/premium`.
  5) FAB ¬´–ü—Ä–æ–¥–æ–ª–∂–∏—Ç—å¬ª —Å–∫—Ä–æ–ª–ª–∏—Ç –∫ —Ç–µ–∫—É—â–µ–º—É —É–∑–ª—É (smoke/assert –≤—ã–∑–æ–≤–∞ `animateTo`).
- –ö—Ä–∏—Ç–µ—Ä–∏–∏ –ø—Ä–∏—ë–º–∫–∏: —Ç–µ—Å—Ç—ã –ø—Ä–æ—Ö–æ–¥—è—Ç –ª–æ–∫–∞–ª—å–Ω–æ –∏ –≤ CI; —Ä–µ–≥—Ä–µ—Å—Å–æ–≤ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö —Ç–µ—Å—Ç–æ–≤ –Ω–µ—Ç.

### –ó–∞–¥–∞—á–∞ 34.9: Supabase/Sentry ‚Äî –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–æ–Ω–Ω—ã–µ
- –ß—Ç–æ —Å–¥–µ–ª–∞—Ç—å:
  1) –ú–∏–≥—Ä–∞—Ü–∏–∏ –ë–î –Ω–µ —Ç—Ä–µ–±—É—é—Ç—Å—è. –í—Å–µ –±—É–¥—É—â–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è —Å—Ö–µ–º—ã (—ç—Ç–∞–∂–∏/—á–µ–∫–ø–æ–∏–Ω—Ç—ã –≤ –ë–î) –ø–ª–∞–Ω–∏—Ä–æ–≤–∞—Ç—å –∏ –ø—Ä–∏–º–µ–Ω—è—Ç—å —Ç–æ–ª—å–∫–æ —á–µ—Ä–µ–∑ supabase‚Äëmcp (–±–µ–∑ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –≤ —ç—Ç–æ–º —ç—Ç–∞–ø–µ).
  2) –î–ª—è –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∏ –ø–æ—Å–ª–µ —Å–±–æ—Ä–∫–∏ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –ª–æ–≥–∏ Sentry –∑–∞ —Å–µ—Å—Å–∏—é —á–µ—Ä–µ–∑ sentry‚Äëmcp (–¥–æ–±–∞–≤–∏—Ç—å –≤ —á–µ–∫‚Äë–ª–∏—Å—Ç —Ä–µ–≤—å—é).
- –ö—Ä–∏—Ç–µ—Ä–∏–∏ –ø—Ä–∏—ë–º–∫–∏: —Å—Ö–µ–º–∞ –ë–î –Ω–µ –º–µ–Ω—è–ª–∞—Å—å; –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å/–º–æ–Ω–µ—Ç–∏–∑–∞—Ü–∏—è —É—Ä–æ–≤–Ω–µ–π —Å–æ—Ö—Ä–∞–Ω–∏–ª–∞—Å—å.

### –ó–∞–¥–∞—á–∞ 34.10: –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –∏ –∞–¥–∞–ø—Ç–∏–≤–Ω–æ—Å—Ç—å
- –§–∞–π–ª—ã: `lib/screens/biz_tower_screen.dart`.
- –ß—Ç–æ —Å–¥–µ–ª–∞—Ç—å:
  1) –†–∞–∑–º–µ—Ç–∫–∞ –Ω–∞ –±–∞–∑–µ `SliverList`/`ListView` —Å –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ–º –ø–µ—Ä–µ—Ä–∏—Å–æ–≤–æ–∫ (`RepaintBoundary` –Ω–∞ —Å–µ–∫—Ü–∏–∏). –ë–µ–∑ —Å–ª–æ–∂–Ω–æ–π –∞–Ω–∏–º–∞—Ü–∏–∏ –≤ –ø–µ—Ä–≤–æ–π –≤–µ—Ä—Å–∏–∏.
  2) –ê–¥–∞–ø—Ç–∏–≤–Ω–æ—Å—Ç—å: –º–æ–±–∏–ª—å–Ω—ã–µ ‚Äî 72‚Äì84 px –∫–≤–∞–¥—Ä–∞—Ç—ã; tablet/desktop ‚Äî 96 px. –ú–∏–Ω–∏–º–∞–ª—å–Ω–∞—è –≤—ã—Å–æ—Ç–∞ —Ç–∞–ø‚Äë–∑–æ–Ω ‚â• 48 px. –û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ overflow –Ω–∞ Web/iOS/Android.
- –ö—Ä–∏—Ç–µ—Ä–∏–∏ –ø—Ä–∏—ë–º–∫–∏: –ø–ª–∞–≤–Ω—ã–π —Å–∫—Ä–æ–ª–ª, –Ω–µ—Ç RenderFlex overflow; –ª—ç–π–∞—É—Ç —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç –±—Ä–µ–π–∫–ø–æ–∏–Ω—Ç–∞–º.

### –ó–∞–¥–∞—á–∞ 34.11: Fix ‚Äî –ï–¥–∏–Ω–∞—è —Ç–æ—á–∫–∞ –≤—Ö–æ–¥–∞ (—Ç–æ–ª—å–∫–æ ¬´–ë–∞—à–Ω—è¬ª)
- –§–∞–π–ª—ã: `lib/routing/app_router.dart`, `lib/screens/levels_map_screen.dart`, `lib/screens/main_street_screen.dart`, —Ç–µ—Å—Ç—ã.
- –ß—Ç–æ —Å–¥–µ–ª–∞—Ç—å:
  1) –£–¥–∞–ª–∏—Ç—å –º–∞—Ä—à—Ä—É—Ç `/floor/1` –∏ –≤—Å–µ –æ–±—Ä–∞—â–µ–Ω–∏—è –∫ –Ω–µ–º—É; –æ—Å—Ç–∞–≤–∏—Ç—å —Ç–æ–ª—å–∫–æ `/tower` –∫–∞–∫ —Ç–æ—á–∫—É –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ –∏ –æ—Ç–∫—Ä—ã—Ç–∏—è —É—Ä–æ–≤–Ω–µ–π.
  2) –£–¥–∞–ª–∏—Ç—å/—É–ø—Ä–∞–∑–¥–Ω–∏—Ç—å –≤–µ—Ç–∫—É `floorMode` –≤ `LevelsMapScreen`; —ç–∫—Ä–∞–Ω –±–æ–ª—å—à–µ –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –∫–∞–∫ ¬´–≠—Ç–∞–∂¬ª.
  3) –ù–∞ –≥–ª–∞–≤–Ω–æ–π (¬´Main Street¬ª) –≤—Å–µ –ø–µ—Ä–µ—Ö–æ–¥—ã –≤–µ—Å—Ç–∏ –Ω–∞ `/tower` (–≤ —Ç–æ–º —á–∏—Å–ª–µ –∫–Ω–æ–ø–∫–∞ ¬´–ü—Ä–æ–¥–æ–ª–∂–∏—Ç—å¬ª ‚Äî —Å–º. 34.12).
- –ö—Ä–∏—Ç–µ—Ä–∏–∏ –ø—Ä–∏—ë–º–∫–∏: –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏ –Ω–µ—Ç –ø–µ—Ä–µ—Ö–æ–¥–æ–≤ –Ω–∞ `/floor/1`; –æ—Ç–∫—Ä—ã—Ç–∏–µ —É—Ä–æ–≤–Ω–µ–π –Ω–∞—á–∏–Ω–∞–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –∏–∑ —ç–∫—Ä–∞–Ω–∞ `BizTowerScreen`.

### –ó–∞–¥–∞—á–∞ 34.12: Fix ‚Äî –ù–∞–¥—ë–∂–Ω—ã–π –∞–≤—Ç–æ—Å–∫—Ä–æ–ª–ª –ø–æ —Ü–µ–ª–µ–≤–æ–º—É —É—Ä–æ–≤–Ω—é
- –§–∞–π–ª—ã: `lib/screens/biz_tower_screen.dart`, `lib/providers/levels_provider.dart`, `lib/screens/main_street_screen.dart`.
- –ß—Ç–æ —Å–¥–µ–ª–∞—Ç—å:
  1) –í `BizTowerScreen` —á–∏—Ç–∞—Ç—å query `scrollTo` –∏ –ø–æ—Å–ª–µ –ø–µ—Ä–≤–æ–π —É—Å–ø–µ—à–Ω–æ–π –∑–∞–≥—Ä—É–∑–∫–∏ —É–∑–ª–æ–≤ –≤—ã–∑–≤–∞—Ç—å `_scrollToLevelNumber(scrollTo)`.
  2) –ö–Ω–æ–ø–∫–∞ ¬´–ü—Ä–æ–¥–æ–ª–∂–∏—Ç—å¬ª –Ω–∞ –≥–ª–∞–≤–Ω–æ–π –≤—ã—á–∏—Å–ª—è–µ—Ç `nextLevelToContinueProvider` –∏ –¥–µ–ª–∞–µ—Ç –ø–µ—Ä–µ—Ö–æ–¥ `context.go('/tower?scrollTo=<levelNumber>')`.
  3) –°–æ—Ö—Ä–∞–Ω–∏—Ç—å —Ç–µ–∫—É—â–∏–π FAB ¬´–ü—Ä–æ–¥–æ–ª–∂–∏—Ç—å¬ª –≤ ¬´–ë–∞—à–Ω–µ¬ª (–ø—Ä–æ–∫—Ä—É—Ç–∫–∞ –∫ –∞–∫—Ç—É–∞–ª—å–Ω–æ–º—É —É–∑–ª—É) ‚Äî –∫–∞–∫ –¥—É–±–ª–∏—Ä—É—é—â–∏–π —É–¥–æ–±–Ω—ã–π —Å—Ü–µ–Ω–∞—Ä–∏–π.
- –ö—Ä–∏—Ç–µ—Ä–∏–∏ –ø—Ä–∏—ë–º–∫–∏: –ø—Ä–∏ –ø–µ—Ä–µ—Ö–æ–¥–µ –Ω–∞ `/tower?scrollTo=N` —ç–∫—Ä–∞–Ω –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–æ–∫—Ä—É—á–∏–≤–∞–µ—Ç—Å—è –∫ –Ω—É–∂–Ω–æ–º—É —É–∑–ª—É; –±–µ–∑ ¬´–¥—ë—Ä–≥–∞–Ω–∏–π¬ª –∏ –ø–æ–≤—Ç–æ—Ä–Ω—ã—Ö –∞–≤—Ç–æ—Å–∫—Ä–æ–ª–ª–æ–≤.

### –ó–∞–¥–∞—á–∞ 34.13: Fix ‚Äî –°—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç—å –≤—ã—á–∏—Å–ª–µ–Ω–∏—è –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏ —É—Ä–æ–≤–Ω–µ–π
- –§–∞–π–ª: `lib/providers/levels_provider.dart`.
- –ß—Ç–æ —Å–¥–µ–ª–∞—Ç—å:
  1) –î–æ–∂–¥–∞—Ç—å—Å—è –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏/–ø—Ä–æ—Ñ–∏–ª—è –ø–µ—Ä–µ–¥ –≤—ã–±–æ—Ä–∫–æ–π: –≤ –Ω–∞—á–∞–ª–µ –ø—Ä–æ–≤–∞–π–¥–µ—Ä–∞ –æ–∂–∏–¥–∞—Ç—å `currentUserProvider.future` (–∏–ª–∏ `authStateProvider.future`), —á—Ç–æ–±—ã –Ω–µ —Å—Ç–∞—Ä—Ç–æ–≤–∞—Ç—å —Å `userId=null`.
  2) –î–ª—è `subscriptionProvider` –Ω–µ –≤—ã—á–∏—Å–ª—è—Ç—å ¬´–ø—Ä–µ–º–∏—É–º‚Äë–±–ª–æ–∫–∏—Ä–æ–≤–∫—É¬ª, –ø–æ–∫–∞ –ø–µ—Ä–≤–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ –µ—â—ë –Ω–µ –ø–æ—Å—Ç—É–ø–∏–ª–æ ‚Äî –≤ —ç—Ç–æ–º —Å–æ—Å—Ç–æ—è–Ω–∏–∏ –ø—Ä–æ–≤–∞–π–¥–µ—Ä –¥–æ–ª–∂–µ–Ω –æ—Å—Ç–∞–≤–∞—Ç—å—Å—è `loading`, –∞ –Ω–µ –≤—ã–¥–∞–≤–∞—Ç—å ¬´–≤—Å—ë –∑–∞–∫—Ä—ã—Ç–æ¬ª.
  3) –£–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ –ø–µ—Ä–≤–∞—è –æ—Ç—Ä–∏—Å–æ–≤–∫–∞ –Ω–µ –¥–∞—ë—Ç –ª–æ–∂–Ω—ã—Ö `isLocked`/`lockReason` –∏–∑‚Äë–∑–∞ –Ω–µ–∑–∞–ø–æ–ª–Ω–µ–Ω–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö.
- –ö—Ä–∏—Ç–µ—Ä–∏–∏ –ø—Ä–∏—ë–º–∫–∏: –Ω–∞ —Ö–æ–ª–æ–¥–Ω–æ–º —Å—Ç–∞—Ä—Ç–µ –Ω–µ—Ç –º–∏–≥—Ä–∞—Ü–∏–∏ –∏–∑ ¬´–≤—Å—ë –∑–∞–∫—Ä—ã—Ç–æ¬ª –≤ ¬´–æ—Ç–∫—Ä—ã—Ç–æ¬ª —Å–ø—É—Å—Ç—è —Å–µ–∫—É–Ω–¥—É; —É—Ä–æ–≤–Ω–∏ —Å—Ç–∞–±–∏–ª—å–Ω–æ –∞–∫—Ç–∏–≤–Ω—ã —Å–æ–≥–ª–∞—Å–Ω–æ –ø—Ä–æ–≥—Ä–µ—Å—Å—É/–ø–æ–¥–ø–∏—Å–∫–µ.

### –ó–∞–¥–∞—á–∞ 34.14: Fix ‚Äî –û–±—Ä–∞–±–æ—Ç–∫–∞ JWT –≤ –≤—ã–±–æ—Ä–∫–µ —É—Ä–æ–≤–Ω–µ–π —Å –ø—Ä–æ–≥—Ä–µ—Å—Å–æ–º
- –§–∞–π–ª: `lib/services/supabase_service.dart`.
- –ß—Ç–æ —Å–¥–µ–ª–∞—Ç—å:
  1) –í `fetchLevelsWithProgress` –¥–æ–±–∞–≤–∏—Ç—å –æ–±—Ä–∞–±–æ—Ç–∫—É –∏—Å—Ç—ë–∫—à–µ–≥–æ JWT (–∞–Ω–∞–ª–æ–≥–∏—á–Ω–æ `fetchLevelsRaw`): –ø—Ä–∏ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–µ–º —Å–æ–æ–±—â–µ–Ω–∏–∏ –≤—ã–∑–≤–∞—Ç—å `auth.signOut()` –∏ –ø—Ä–æ–±—Ä–æ—Å–∏—Ç—å –∏—Å–∫–ª—é—á–µ–Ω–∏–µ.
  2) –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ UI ¬´–ë–∞—à–Ω–∏¬ª –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –ø–æ–Ω—è—Ç–Ω—É—é –æ—à–∏–±–∫—É/–∫–Ω–æ–ø–∫—É ¬´–ü–æ–≤—Ç–æ—Ä–∏—Ç—å¬ª, –∞ –Ω–µ ¬´–ø—Å–µ–≤–¥–æ‚Äë–∑–∞–∫—Ä—ã—Ç–æ–µ¬ª —Å–æ—Å—Ç–æ—è–Ω–∏–µ.
- –ö—Ä–∏—Ç–µ—Ä–∏–∏ –ø—Ä–∏—ë–º–∫–∏: –ø—Ä–∏ –∏—Å—Ç—ë–∫—à–µ–π —Å–µ—Å—Å–∏–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ —Ä–∞–∑–ª–æ–≥–∏–Ω–∏–≤–∞–µ—Ç—Å—è –∏ –ø–æ–ø–∞–¥–∞–µ—Ç –Ω–∞ —ç–∫—Ä–∞–Ω –≤—Ö–æ–¥–∞; –≤ Sentry –Ω–µ—Ç ¬´–∑–∞–ª–∏–ø—à–∏—Ö¬ª –æ—à–∏–±–æ–∫ –∑–∞–≥—Ä—É–∑–∫–∏ –±–∞—à–Ω–∏.

### –ó–∞–¥–∞—á–∞ 34.15: Fix ‚Äî –ß–µ–∫–ø–æ–∏–Ω—Ç—ã –∫–∞–∫ –≤–∏–∑—É–∞–ª—å–Ω—ã–µ —Ç–∏–∑–µ—Ä—ã (MVP)
- –§–∞–π–ª—ã: `lib/providers/levels_provider.dart` (–±–ª–æ–∫ —Ñ–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–∏—è `towerNodesProvider`), `lib/screens/biz_tower_screen.dart`.
- –ß—Ç–æ —Å–¥–µ–ª–∞—Ç—å:
  1) –í—Ä–µ–º–µ–Ω–Ω–æ –æ—Ç–∫–ª—é—á–∏—Ç—å –±–ª–æ–∫–∏—Ä–æ–≤–∫—É —Å–ª–µ–¥—É—é—â–µ–≥–æ —É—Ä–æ–≤–Ω—è —á–µ–∫–ø–æ–∏–Ω—Ç–æ–º (–Ω–µ —Å—Ç–∞–≤–∏—Ç—å `blockedByCheckpoint=true` –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é), —Å–æ—Ö—Ä–∞–Ω–∏–≤ –≤–∏–∑—É–∞–ª—å–Ω—É—é –∫–∞—Ä—Ç–æ—á–∫—É —á–µ–∫–ø–æ–∏–Ω—Ç–∞ –∏ –ª–æ–∫–∞–ª—å–Ω–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ –≤ Hive.
  2) –¢–µ–∫—Å—Ç —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π –æ—Å—Ç–∞–≤–∏—Ç—å, –Ω–æ –Ω–µ –ø—Ä–µ–ø—è—Ç—Å—Ç–≤–æ–≤–∞—Ç—å –ø–µ—Ä–µ—Ö–æ–¥—É –Ω–∞ —É—Ä–æ–≤–µ–Ω—å (MVP –±–µ–∑ –≥–µ–π—Ç–∞ —á–µ–∫–ø–æ–∏–Ω—Ç–∞–º–∏).
- –ö—Ä–∏—Ç–µ—Ä–∏–∏ –ø—Ä–∏—ë–º–∫–∏: –≤—Å–µ —É—Ä–æ–≤–Ω–∏ –æ—Å—Ç–∞—é—Ç—Å—è –¥–æ—Å—Ç—É–ø–Ω—ã –ø–æ –æ–±—â–∏–º –ø—Ä–∞–≤–∏–ª–∞–º –ø—Ä–æ–≥—Ä–µ—Å—Å–∞/–ø–æ–¥–ø–∏—Å–∫–∏; —á–µ–∫–ø–æ–∏–Ω—Ç—ã –≤–∏–¥–Ω—ã –∏ –º–æ–≥—É—Ç –æ—Ç–º–µ—á–∞—Ç—å—Å—è ¬´–ó–∞–≤–µ—Ä—à–∏—Ç—å¬ª, –Ω–æ –Ω–µ –±–ª–æ–∫–∏—Ä—É—é—Ç –ø–µ—Ä–µ—Ö–æ–¥—ã.

### –ó–∞–¥–∞—á–∞ 34.16: Fix ‚Äî –û—à–∏–±–∫–∏ –∑–∞–≥—Ä—É–∑–∫–∏ ¬´–ë–∞—à–Ω–∏¬ª: –ø–æ–Ω—è—Ç–Ω—ã–π UI –∏ retry
- –§–∞–π–ª: `lib/screens/biz_tower_screen.dart`.
- –ß—Ç–æ —Å–¥–µ–ª–∞—Ç—å:
  1) –í —Å–æ—Å—Ç–æ—è–Ω–∏–∏ `error` –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å –¥—Ä—É–∂–µ–ª—é–±–Ω—ã–π —ç–∫—Ä–∞–Ω —Å –∫–Ω–æ–ø–∫–æ–π ¬´–ü–æ–≤—Ç–æ—Ä–∏—Ç—å¬ª (–∏–Ω–≤–∞–ª–∏–¥–∞—Ü–∏—è `towerNodesProvider`), –±–µ–∑ –ø–æ–¥–º–µ–Ω—ã –Ω–∞ ¬´–∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ¬ª –ø–ª–∞—à–∫–∏ —ç—Ç–∞–∂–µ–π.
  2) –õ–æ–≥–∏—Ä–æ–≤–∞—Ç—å –∏—Å–∫–ª—é—á–µ–Ω–∏—è –≤ Sentry —Å –∫–∞—Ç–µ–≥–æ—Ä–∏–µ–π `tower_load_error`.
- –ö—Ä–∏—Ç–µ—Ä–∏–∏ –ø—Ä–∏—ë–º–∫–∏: –ø—Ä–∏ —Å–µ—Ç–µ–≤—ã—Ö/—Å–µ—Ä–≤–µ—Ä–Ω—ã—Ö —Å–±–æ—è—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤–∏–¥–∏—Ç –ø–æ–Ω—è—Ç–Ω—É—é –æ—à–∏–±–∫—É –∏ –º–æ–∂–µ—Ç –ø–æ–≤—Ç–æ—Ä–∏—Ç—å –ø–æ–ø—ã—Ç–∫—É; –Ω–µ—Ç –≤–∏–∑—É–∞–ª—å–Ω–æ–π –∏–º–∏—Ç–∞—Ü–∏–∏ ¬´–≤—Å—ë –∑–∞–∫—Ä—ã—Ç–æ¬ª.

### –ó–∞–¥–∞—á–∞ 34.17: Fix ‚Äî –ê—É–¥–∏—Ç –Ω–∞–≤–∏–≥–∞—Ü–∏–∏ –∏ –µ–¥–∏–Ω–æ–æ–±—Ä–∞–∑–∏–µ –æ—Ç–∫—Ä—ã—Ç–∏—è —É—Ä–æ–≤–Ω—è
- –§–∞–π–ª—ã: `lib/screens/main_street_screen.dart`, `lib/widgets/level_card.dart` (–≥–¥–µ –ø—Ä–∏–º–µ–Ω–∏–º–æ), –ø—Ä–æ—á–∏–µ —ç–∫—Ä–∞–Ω—ã —Å –ø—Ä—è–º—ã–º–∏ –ø–µ—Ä–µ—Ö–æ–¥–∞–º–∏ –Ω–∞ —É—Ä–æ–≤–µ–Ω—å.
- –ß—Ç–æ —Å–¥–µ–ª–∞—Ç—å:
  1) –ò—Å–∫–ª—é—á–∏—Ç—å –ø—Ä—è–º—ã–µ –ø–µ—Ä–µ—Ö–æ–¥—ã –Ω–∞ —É—Ä–æ–≤–µ–Ω—å –∑–∞ –ø—Ä–µ–¥–µ–ª–∞–º–∏ ¬´–ë–∞—à–Ω–∏¬ª (–∫—Ä–æ–º–µ —Å–∞–º–æ–≥–æ —ç–∫—Ä–∞–Ω–∞ —É—Ä–æ–≤–Ω—è). –í—Å–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–µ —Å—Ü–µ–Ω–∞—Ä–∏–∏ –æ—Ç–∫—Ä—ã—Ç–∏—è —É—Ä–æ–≤–Ω—è ‚Äî —á–µ—Ä–µ–∑ –Ω–∞–∂–∞—Ç–∏–µ –Ω–∞ —É–∑–µ–ª –≤ `BizTowerScreen`.
  2) –û–±–Ω–æ–≤–∏—Ç—å –Ω–∞–≤–∏–≥–∞—Ü–∏–æ–Ω–Ω—ã–µ SnackBar/–æ–±—Ä–∞–±–æ—Ç–∫—É –æ—à–∏–±–æ–∫ (Sentry) –¥–ª—è –µ–¥–∏–Ω–æ–æ–±—Ä–∞–∑–Ω—ã—Ö —Å–æ–æ–±—â–µ–Ω–∏–π.
- –ö—Ä–∏—Ç–µ—Ä–∏–∏ –ø—Ä–∏—ë–º–∫–∏: –µ–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω–∞—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∞—è —Ç–æ—á–∫–∞ –≤—Ö–æ–¥–∞ –≤ —É—Ä–æ–≤–µ–Ω—å ‚Äî ¬´–ë–∞—à–Ω—è¬ª.

### –ó–∞–¥–∞—á–∞ 34.18: –ù–∞–±–ª—é–¥–∞–µ–º–æ—Å—Ç—å –∏ —Ç–µ—Å—Ç—ã
- –§–∞–π–ª—ã: `test/screens/street_screen_test.dart` (–æ–±–Ω–æ–≤–∏—Ç—å –ø–æ–¥ –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–µ `/floor/1`), `test/screens/tower_map_screen_test.dart` (–¥–æ–±–∞–≤–∏—Ç—å/—Ä–∞—Å—à–∏—Ä–∏—Ç—å), CI.
- –ß—Ç–æ —Å–¥–µ–ª–∞—Ç—å:
  1) –û–±–Ω–æ–≤–∏—Ç—å —Ç–µ—Å—Ç—ã –ø–æ–¥ –Ω–æ–≤—É—é –Ω–∞–≤–∏–≥–∞—Ü–∏—é: –≥–ª–∞–≤–Ω–∞—è ‚Üí `/tower`, –ø—Ä–æ–≤–µ—Ä–∫–∞ `scrollTo`, –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–µ `/floor/1`.
  2) –†–∞—Å—à–∏—Ä–∏—Ç—å —Ç–µ—Å—Ç ¬´–ë–∞—à–Ω–∏¬ª –Ω–∞ —Å—Ü–µ–Ω–∞—Ä–∏–∏ –æ—à–∏–±–∫–∏ –∏ retry.
  3) –ß–µ—Ä–µ–∑ sentry‚Äëmcp –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –Ω–æ–≤—ã—Ö –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö UI‚Äë–æ—à–∏–±–æ–∫ –ø–æ—Å–ª–µ –Ω–∞–≤–∏–≥–∞—Ü–∏–∏ –∏ –∞–≤—Ç–æ—Å–∫—Ä–æ–ª–ª–∞ (–ø–æ—Ç—Ä–µ–±—É–µ—Ç—Å—è –∞–∫—Ç—É–∞–ª—å–Ω—ã–π —Ç–æ–∫–µ–Ω).
- –ö—Ä–∏—Ç–µ—Ä–∏–∏ –ø—Ä–∏—ë–º–∫–∏: —Ç–µ—Å—Ç—ã –∑–µ–ª—ë–Ω—ã–µ –ª–æ–∫–∞–ª—å–Ω–æ –∏ –≤ CI; Sentry –±–µ–∑ –Ω–æ–≤—ã—Ö –∫—Ä–∏—Ç–∏—á–Ω—ã—Ö –æ—à–∏–±–æ–∫.
