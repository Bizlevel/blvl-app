# Концепция мини-кейсов БизЛевел
## Техническая спецификация для разработки

## 1. Роль и поведение Лео в мини-кейсах

### Роль
- **Режим:** `case_facilitator` (фасилитатор кейса)
- **Персона:** Опытный бизнес-консультант, который ведет пользователя через реальную проблему
- **Тон:** Профессиональный, поддерживающий, но не навязчивый

### Принципы общения
```
1. Лео НЕ дает прямых ответов, а направляет мышление
2. Использует факты и данные из кейса для создания контекста
3. Реагирует адаптивно на качество ответов пользователя
4. Поддерживает мотивацию через позитивное подкрепление
```

### Форматы реплик Лео
- **Презентация кейса:** Эмоциональное погружение + факты
- **Постановка задания:** Четкий вопрос + ожидаемый формат ответа
- **Реакция на ответ:** Признание усилий + углубление контекста
- **Подведение итогов:** Показ результатов + персонализированный инсайт

---

## 2. UI/UX путь пользователя

### 2.1 Точка входа
```
Карта уровней → Чекпоинт "Мини-кейс" (после уровней 3, 6, 9)
├── Иконка: 💼 
├── Название: "Практика: [Название кейса]"
├── Статус: 
│   ├── "Новый" (не открыт)
│   ├── "В процессе" (начат)
│   └── "Завершен" ✓
└── Обязательность: Required для перехода на следующий уровень
```

### 2.2 Экран приветствия кейса
```
┌─────────────────────────────────┐
│        МИНИ-КЕЙС #1             │
│    "Автомойка в тумане"         │
│                                 │
│  [Изображение-превью кейса]     │
│                                 │
│  Время: ~10 минут               │
│  Навыки: Фокус лидера          │
│                                 │
│  Поможешь реальному предприни-  │
│  мателю решить его проблему?    │
│                                 │
│  [Начать] [Пропустить кейс →]   │
└─────────────────────────────────┘
```

### 2.3 Блок погружения
```
┌─────────────────────────────────┐
│   │
│                           │
│  [Иллюстрация + текст]          │
├─────────────────────────────────┤
│  Лео представляет героя и       │
│  ситуацию (текст под видео)     │
└─────────────────────────────────┘
        ↓
    [Начать решать проблему]
```

### 2.4 Интерфейс диалога
```
┌─────────────────────────────────┐
│  ← Выйти     Кейс 1/3      ⓘ   │
├─────────────────────────────────┤
│ (аватарка) Лео    │
├─────────────────────────────────┤
│                                 │
│  💼 Лео                         │
│  ┌────────────────────┐         │
│  │ Текст вопроса/     │         │
│  │ контекста от Лео   │         │
│  └────────────────────┘         │
│                                 │
│         ┌─────────────┐         │
│         │ Твой ответ  │ 👤      │
│         └─────────────┘         │
│                                 │
│  💼 Лео                         │
│  ┌────────────────────┐         │
│  │ Следующий вопрос   │         │
│  └────────────────────┘         │
│                                 │
├─────────────────────────────────┤
│  ┌─────────────────────────┐    │
│  │ Поле ввода ответа...    │    │
│  └─────────────────────────┘    │
│  Ожидаю 2-3 предложения  ⓘ      │
│                                 │
│  [Отправить] [Подсказка💡]      │
└─────────────────────────────────┘
```

### 2.5 Опция пропуска
```
Кнопка "Выйти" → Модальное окно (если пользователь уже ответил более 1 раза):
┌─────────────────────────────────┐
│     Уверен, что хочешь выйти?   │
│                                 │
│  Ты уже прошел 4 из 8 шагов.   │
│  Прогресс сохранится.           │
│                                 │
│  [Продолжить кейс]              │
│  [Сохранить и выйти]            │
│  [Пропустить без сохранения]    │
└─────────────────────────────────┘
```

**Логика пропуска:**
- Пользователь может выйти в любой момент
- При возврате - продолжение с места остановки
- Кнопка "Пропустить" доступна всегда, но с soft-блокировкой:
  - Первый клик: "Уверен? Ты упустишь ценную практику"
  - Второй клик: пропуск к следующему уровню

---

## 3. Логика валидации ответов

### 3.1 Система оценки ответов

**НЕ бинарная система (правильно/неправильно), а градиентная:**

```javascript
AnswerQuality = {
  EXCELLENT: "Использует термины из уроков + правильная логика",
  GOOD: "Правильная логика, но без терминологии курса",
  ACCEPTABLE: "Частично правильное направление мысли",
  WEAK: "Слишком общий или не по теме",
  INVALID: "Слишком короткий или бессмысленный"
}
```

### 3.2 Параметры валидации

```javascript
ValidationRules = {
  minLength: 10,        // минимум слов
  maxLength: 100,       // максимум слов
  sentiment: "constructive" // тон должен быть конструктивным
}
```

### 3.3 Алгоритм принятия решения

```
1. Проверка базовых критериев (длина, язык)
   └── Если не прошел → запрос уточнения

2. Анализ содержания через AI
   ├── Определение уровня качества (5 градаций)
   └── Генерация соответствующего ответа Лео

3. Адаптивная реакция:
   ├── EXCELLENT/GOOD → Переход к следующему этапу
   ├── ACCEPTABLE → Мягкая подсказка + переход
   ├── WEAK → Наводящий вопрос + повтор попытки
   └── INVALID → Просьба развернуть ответ
```

### 3.4 Примеры промптов для Лео

**При EXCELLENT ответе:**
```
"Отлично! Ты правильно определил, что проблема в {user_concept}. 
Именно {lesson_reference} поможет Даулету. Давай углубимся..."
```

**При ACCEPTABLE ответе:**
```
"Хорошее направление мысли! Ты прав насчет {partial_insight}. 
А если посмотреть через призму матрицы Эйзенхауэра, что еще заметишь?"
```

**При WEAK ответе:**
```
"Понимаю твою логику, но давай конкретнее. 
Посмотри на список задач Даулета - какие ДВЕ из них критически важны именно сегодня?"
```

### 3.5 Система подсказок

**Кнопка "Подсказка" - прогрессивная помощь:**
1. Первый клик: "Обрати внимание на {направление}"
2. Второй клик: "Вспомни урок про {концепт}"
3. Третий клик: "Попробуй применить {конкретный_инструмент}"

**Автоподсказка после 2 неудачных попыток:**
```
Лео: "Вижу, задача непростая. Давай я помогу сфокусироваться.
Ключевой вопрос здесь: [упрощенная формулировка].
Подумай о том, как [инструмент] может помочь."
```

---

## 4. Техническая реализация


### 4.1 Сохранение прогресса
- Автосохранение после каждого ответа
- Хранение в `user_case_progress` таблице
- Возможность вернуться к незавершенному кейсу
- Статистика: время на кейс, количество попыток, использованные подсказки

---

## 5. Ключевые принципы UX

1. **Низкий порог входа:** 10 минут, 4-5 ответов
2. **Право на ошибку:** Нет наказания за неправильные ответы
3. **Видимый прогресс:** Прогресс-бар и счетчик шагов
4. **Гибкость:** Можно прервать и вернуться
5. **Мотивация:** Позитивное подкрепление на каждом шаге
6. **Практичность:** Реальные ситуации, применимые решения

---

## 6. Метрики успеха

- **Completion Rate:** >70% начавших завершают кейс
- **Avg Time:** 8-12 минут на кейс
- **Quality Score:** >60% ответов уровня GOOD+
- **Return Rate:** >40% возвращаются к прерванным кейсам
- **Hint Usage:** <30% используют все подсказки