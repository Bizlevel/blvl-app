# Последовательность задач для полного аудита проекта BizLevel

## Задача 1: Общая структура и архитектура (30-40 минут)

### Промпт:
```markdown
Действуй как Senior Flutter Developer. Проведи анализ общей структуры проекта:

1. Изучи корневую директорию и основные конфигурационные файлы:
   - pubspec.yaml (все зависимости, их версии и назначение)
   - analysis_options.yaml
   - Все .env файлы и примеры
   - Конфигурация платформ (android/, ios/, web/ и др.)

2. Проанализируй структуру /lib директории:
   - Определи используемую архитектуру (Clean, MVVM, etc.)
   - Составь дерево ВСЕХ папок с кратким описанием назначения
   - Определи паттерн организации кода (feature-based, layer-based)

3. Определи core технологии:
   - State management решение
   - Навигация
   - DI (dependency injection)
   - Сетевой слой

4. Создай отчет "СТРУКТУРА_ПРОЕКТА.md" с:
   - Полным деревом директорий
   - Описанием архитектуры
   - Списком всех packages из pubspec.yaml с версиями
   - Схемой основных модулей

НЕ ВНОСИ изменения в код!
```

### Ожидаемый результат:
- Файл СТРУКТУРА_ПРОЕКТА.md с полной картой проекта
- Понимание архитектуры для следующих задач

---

## Задача 2: Анализ интеграций Supabase и Sentry (20-30 минут)

### Промпт:
```markdown
Действуй как Flutter эксперт по Supabase и Sentry. Используя информацию из предыдущего анализа, глубоко изучи интеграции:

## Supabase анализ:
1. Найди ВСЕ файлы работающие с Supabase:
   - Инициализация клиента
   - Auth использование (login, logout, session management)
   - Database queries (select, insert, update, delete)
   - Realtime subscriptions
   - Storage операции
   - Edge Functions вызовы

2. Проверь:
   - Правильность обработки ошибок
   - Безопасность (есть ли API ключи в коде)
   - Оптимальность запросов
   - Управление соединениями

## Sentry анализ:
1. Найди:
   - Инициализацию Sentry
   - Все captureException вызовы
   - Performance tracking
   - Custom events и contexts
   - Breadcrumbs

2. Проверь:
   - Покрытие error handling
   - Правильность конфигурации
   - Чувствительные данные в логах

Создай отчет "ИНТЕГРАЦИИ_АНАЛИЗ.md" с детальным описанием всех найденных интеграций, проблем и рекомендаций.

НЕ ВНОСИ изменения!
```

### Ожидаемый результат:
- Файл ИНТЕГРАЦИИ_АНАЛИЗ.md
- Полная карта использования Supabase и Sentry

---

## Задача 3: Детальный анализ кода и зависимостей (40-50 минут)

### Промпт:
```markdown
Действуй как Flutter Code Auditor. Проведи глубокий анализ КАЖДОГО Dart файла в проекте:

1. Для каждого .dart файла определи:
   - Используется ли он (есть импорты в другие файлы)
   - Какие файлы он импортирует
   - Качество кода (соответствие conventions)
   - Потенциальные проблемы

2. Найди:
   - Неиспользуемые файлы (нет импортов)
   - Дублирование кода
   - Циклические зависимости
   - Legacy код (старые подходы, deprecated API)
   - Файлы с суффиксами _old, _backup, _temp, _test (вне test/)

3. Составь граф зависимостей основных модулей

4. Создай отчет "КОД_АНАЛИЗ.md" с:
   - Списком ВСЕХ файлов и их статусом
   - Графом зависимостей
   - Списком неиспользуемых файлов
   - Проблемами в коде

Будь ОЧЕНЬ внимательным - проверь КАЖДЫЙ файл!
НЕ УДАЛЯЙ файлы!
```

### Ожидаемый результат:
- Файл КОД_АНАЛИЗ.md
- Полный список файлов к удалению

---

## Задача 4: Анализ для переименования и рефакторинга (20-30 минут)

### Промпт:
```markdown
Используя данные из предыдущих анализов, подготовь проект к переименованию в BizLevel:

1. Найди ВСЕ упоминания текущего названия проекта в:
   - Коде (строковые константы, комментарии)
   - Конфигурационных файлах
   - Package names (Android, iOS)
   - Assets названиях
   - README и документации

2. Проанализируй:
   - Какие файлы потребуют ручного изменения
   - Какие можно изменить автоматически
   - Риски при переименовании

3. Составь план рефакторинга на основе всех предыдущих анализов:
   - Порядок действий
   - Оценка времени
   - Приоритеты

4. Создай отчет "РЕФАКТОРИНГ_ПЛАН.md" с:
   - Полным списком мест для переименования
   - Пошаговым планом рефакторинга
   - Оценкой рисков

НЕ ВНОСИ изменения!
```

### Ожидаемый результат:
- Файл РЕФАКТОРИНГ_ПЛАН.md
- Готовый план действий

---

## Задача 5: Финальный сводный отчет (15-20 минут)

### Промпт:
```markdown
На основе всех предыдущих анализов создай исчерпывающий сводный отчет:

1. Объедини ключевые находки из всех анализов
2. Приоритизируй все проблемы (Critical/High/Medium/Low)
3. Создай Executive Summary для руководства
4. Составь конкретный план действий с timeline

Создай файл "ФИНАЛЬНЫЙ_ОТЧЕТ_BIZLEVEL.md" который включает:
- Executive Summary (1 страница)
- Ключевые метрики проекта
- Топ-10 критических проблем
- Детальный план миграции на BizLevel
- Оценку трудозатрат
- Quick wins (что можно улучшить быстро)

Сделай отчет структурированным и легким для чтения.
```

### Ожидаемый результат:
- Файл ФИНАЛЬНЫЙ_ОТЧЕТ_BIZLEVEL.md
- Готовый к презентации документ

---

## Порядок выполнения:

1. **Выполняйте задачи последовательно** - каждая следующая опирается на предыдущую
2. **Сохраняйте результаты** - каждый отчет в отдельный файл
3. **Делайте перерывы** между задачами, чтобы Cursor мог "отдохнуть"
4. **Проверяйте результаты** - если что-то пропущено, допросите конкретно

## Дополнительные мини-задачи (опционально):

### Если нужен более глубокий анализ:
```markdown
"Проанализируй все TODO и FIXME комментарии в проекте"
"Найди все hardcoded строки которые должны быть в константах"
"Проверь покрытие тестами каждого модуля"
"Найди потенциальные memory leaks"
```

---

**Общее время выполнения**: 2-3 часа с перерывами
**Результат**: 5 детальных отчетов + план действий